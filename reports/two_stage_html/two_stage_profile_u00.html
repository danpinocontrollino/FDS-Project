<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Two-Stage Mental Health Profile - u00</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f7fa;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .header .subtitle {
            font-size: 18px;
            opacity: 0.95;
        }
        
        .metadata {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 30px 40px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }
        
        .metadata-item {
            text-align: center;
        }
        
        .metadata-label {
            font-size: 12px;
            color: #6c757d;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }
        
        .metadata-value {
            font-size: 18px;
            font-weight: 600;
            color: #495057;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #2d3748;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-subtitle {
            font-size: 14px;
            color: #718096;
            margin-bottom: 20px;
            font-style: italic;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .badge-real {
            background: #d4edda;
            color: #155724;
        }
        
        .badge-synthetic {
            background: #fff3cd;
            color: #856404;
        }
        
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            border: 2px solid #e9ecef;
        }
        
        .card-header {
            font-size: 13px;
            color: #6c757d;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .card-value {
            font-size: 28px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 5px;
        }
        
        .card-uncertainty {
            font-size: 12px;
            color: #e67e22;
            font-weight: 600;
        }
        
        .prediction-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid #6c757d;
        }
        
        .prediction-card.at-risk {
            border-color: #dc3545;
            background: #fff5f5;
        }
        
        .prediction-card.healthy {
            border-color: #28a745;
            background: #f0fff4;
        }
        
        .prediction-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .prediction-name {
            font-size: 16px;
            font-weight: 600;
            color: #2d3748;
        }
        
        .prediction-value {
            font-size: 24px;
            font-weight: 700;
        }
        
        .prediction-value.at-risk {
            color: #dc3545;
        }
        
        .prediction-value.healthy {
            color: #28a745;
        }
        
        .recommendation-card {
            background: white;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .recommendation-card.high {
            border-color: #e74c3c;
        }
        
        .recommendation-card.medium {
            border-color: #f39c12;
        }
        
        .recommendation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .recommendation-title {
            font-size: 18px;
            font-weight: 600;
            color: #2d3748;
        }
        
        .priority-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .priority-badge.high {
            background: #fee;
            color: #c00;
        }
        
        .priority-badge.medium {
            background: #fff4e6;
            color: #d68910;
        }
        
        .recommendation-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        
        .metric-item {
            display: flex;
            flex-direction: column;
        }
        
        .metric-label {
            font-size: 12px;
            color: #6c757d;
            margin-bottom: 4px;
        }
        
        .metric-value {
            font-size: 14px;
            font-weight: 600;
            color: #495057;
        }
        
        .recommendation-evidence {
            font-size: 14px;
            color: #495057;
            font-style: italic;
            margin-bottom: 15px;
            padding-left: 15px;
            border-left: 3px solid #e9ecef;
        }
        
        .action-list {
            list-style: none;
        }
        
        .action-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            font-size: 14px;
            color: #495057;
        }
        
        .action-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
        }
        
        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .warning-box-title {
            font-size: 16px;
            font-weight: 600;
            color: #856404;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .warning-box-content {
            font-size: 14px;
            color: #856404;
            line-height: 1.6;
        }
        
        .info-box {
            background: #d1ecf1;
            border: 1px solid #0c5460;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .info-box-title {
            font-size: 16px;
            font-weight: 600;
            color: #0c5460;
            margin-bottom: 10px;
        }
        
        .info-box-content {
            font-size: 14px;
            color: #0c5460;
            line-height: 1.6;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .chart-title {
            font-size: 18px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 15px;
            text-align: center;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
                border-radius: 0;
                max-width: 100%;
            }
            
            .header {
                background: #667eea;
                color: white;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            .section {
                page-break-inside: avoid;
            }
            
            * {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üß† Two-Stage Mental Health Profile</h1>
            <div class="subtitle">Hybrid Behavioral Forecasting + Mental Health Inference</div>
        </div>
        
        <!-- Metadata -->
        <div class="metadata">
            <div class="metadata-item">
                <div class="metadata-label">Student ID</div>
                <div class="metadata-value">u00</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">Generated</div>
                <div class="metadata-value">2025-12-10 15:46:41</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">Date Range</div>
                <div class="metadata-value">2013-03-30 to 2013-06-20</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">Predictions</div>
                <div class="metadata-value">78 days</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">Avg Uncertainty</div>
                <div class="metadata-value">¬±29%</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">At-Risk Factors</div>
                <div class="metadata-value">1</div>
            </div>
        </div>
        
        <div class="content">
            <!-- Pipeline Warning -->
            <div class="warning-box">
                <div class="warning-box-title">‚ö†Ô∏è Understanding This Two-Stage Report</div>
                <div class="warning-box-content">
                    <p><strong>This report uses a hybrid prediction pipeline:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Stage 1 (REAL DATA):</strong> Behavioral forecasting using patterns from StudentLife dataset (Dartmouth, 2013)</li>
                        <li><strong>Stage 2 (SYNTHETIC DATA):</strong> Mental health inference trained on 1.5M synthetic records</li>
                    </ul>
                    <p style="margin-top: 10px;"><strong>Limitations:</strong> Stage 1 uncertainties (¬±29% average) compound in Stage 2. Mental health predictions are based on behavioral forecasts, not direct measurements. This report analyzes all 78 days of predictions. Use this as a screening tool, not a clinical diagnosis.</p>
                </div>
            </div>
            
            <!-- Methodology Section -->
            <div class="section">
                <div class="section-title">üî¨ How This System Works: Two-Stage Pipeline Methodology</div>
                
                <div style="background: #f8f9fa; padding: 25px; border-radius: 8px; margin-bottom: 20px;">
                    <h4 style="font-size: 18px; font-weight: 600; color: #2d3748; margin-bottom: 15px;">
                        Pipeline Architecture
                    </h4>
                    
                    <div style="display: flex; align-items: center; justify-content: space-around; margin: 30px 0; flex-wrap: wrap; gap: 20px;">
                        <div style="text-align: center; flex: 1; min-width: 200px;">
                            <div style="background: #667eea; color: white; padding: 20px; border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üì±</div>
                                <div style="font-weight: 600;">Input Sensors</div>
                                <div style="font-size: 12px; opacity: 0.9;">6 features √ó 7 days</div>
                            </div>
                            <div style="font-size: 12px; color: #6c757d;">
                                Sleep, Work, Exercise<br>Screen, Social, Steps
                            </div>
                        </div>
                        
                        <div style="font-size: 24px; color: #6c757d;">‚Üí</div>
                        
                        <div style="text-align: center; flex: 1; min-width: 200px;">
                            <div style="background: #3498db; color: white; padding: 20px; border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üß†</div>
                                <div style="font-weight: 600;">Stage 1: LSTM</div>
                                <div style="font-size: 12px; opacity: 0.9;">Real Data (StudentLife)</div>
                            </div>
                            <div style="font-size: 12px; color: #6c757d;">
                                Predicts next-day<br>behaviors + uncertainty
                            </div>
                        </div>
                        
                        <div style="font-size: 24px; color: #6c757d;">‚Üí</div>
                        
                        <div style="text-align: center; flex: 1; min-width: 200px;">
                            <div style="background: #28a745; color: white; padding: 20px; border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üß†</div>
                                <div style="font-weight: 600;">Stage 2: LSTM</div>
                                <div style="font-size: 12px; opacity: 0.9;">Synthetic Data (1.5M)</div>
                            </div>
                            <div style="font-size: 12px; color: #6c757d;">
                                Infers mental health<br>from behaviors
                            </div>
                        </div>
                        
                        <div style="font-size: 24px; color: #6c757d;">‚Üí</div>
                        
                        <div style="text-align: center; flex: 1; min-width: 200px;">
                            <div style="background: #764ba2; color: white; padding: 20px; border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üìä</div>
                                <div style="font-weight: 600;">Output</div>
                                <div style="font-size: 12px; opacity: 0.9;">8 mental health scores</div>
                            </div>
                            <div style="font-size: 12px; color: #6c757d;">
                                PSS, Anxiety, Depression<br>Stress, Mood, Energy, Focus
                            </div>
                        </div>
                    </div>
                    
                    <h4 style="font-size: 16px; font-weight: 600; color: #2d3748; margin-top: 30px; margin-bottom: 10px;">
                        Stage 1: Behavioral Forecasting (REAL DATA)
                    </h4>
                    <ul style="font-size: 14px; color: #495057; line-height: 1.8; margin-left: 20px;">
                        <li><strong>Training Data:</strong> StudentLife dataset from Dartmouth College (2013) - 10 students, 674 real sensor measurements</li>
                        <li><strong>Model:</strong> LSTM (Long Short-Term Memory) with 32 hidden dimensions, 1 layer</li>
                        <li><strong>Input:</strong> 6 behavioral features (sleep, work hours, exercise, steps, screen time, social interactions) over 7-day windows</li>
                        <li><strong>Output:</strong> 5 next-day behavioral predictions + aleatoric uncertainty (inherent data noise)</li>
                        <li><strong>Uncertainty:</strong> Quantified using log-variance outputs - measures model confidence in each prediction</li>
                        <li><strong>Why Real Data Matters:</strong> Captures authentic behavioral patterns, circadian rhythms, and day-to-day variability from actual university students</li>
                    </ul>
                    
                    <h4 style="font-size: 16px; font-weight: 600; color: #2d3748; margin-top: 30px; margin-bottom: 10px;">
                        Stage 2: Mental Health Inference (SYNTHETIC DATA)
                    </h4>
                    <ul style="font-size: 14px; color: #495057; line-height: 1.8; margin-left: 20px;">
                        <li><strong>Training Data:</strong> 1.5M synthetic records with controlled behavioral patterns and mental health labels</li>
                        <li><strong>Model:</strong> LSTM with 128 hidden dimensions, 2 layers, multi-task prediction heads</li>
                        <li><strong>Input:</strong> Stage 1 predicted behaviors (5 features)</li>
                        <li><strong>Output:</strong> 8 mental health scores (4 daily: stress, mood, energy, focus + 4 weekly: PSS, anxiety, depression, job satisfaction)</li>
                        <li><strong>Why Synthetic:</strong> No ground truth mental health labels exist for StudentLife data; synthetic data provides controlled relationships</li>
                        <li><strong>Clinical Scales:</strong> PSS-10 (Perceived Stress), GAD-7 (Generalized Anxiety), PHQ-9 (Patient Health Questionnaire - Depression)</li>
                    </ul>
                    
                    <h4 style="font-size: 16px; font-weight: 600; color: #2d3748; margin-top: 30px; margin-bottom: 10px;">
                        Error Propagation & Uncertainty
                    </h4>
                    <ul style="font-size: 14px; color: #495057; line-height: 1.8; margin-left: 20px;">
                        <li><strong>Stage 1 Uncertainty:</strong> Average ¬±29% across 78 days - varies by behavioral metric</li>
                        <li><strong>Compounding Effect:</strong> Stage 2 treats Stage 1 predictions as inputs, so uncertainty accumulates</li>
                        <li><strong>Distribution Mismatch:</strong> Stage 1 outputs may differ from Stage 2 training distribution ‚Üí reduced confidence</li>
                        <li><strong>Interpretation:</strong> Higher uncertainty = model less confident. Use trends and patterns, not absolute values</li>
                        <li><strong>Validation Challenge:</strong> No ground truth mental health labels for StudentLife students to validate Stage 2 predictions</li>
                    </ul>
                    
                    <h4 style="font-size: 16px; font-weight: 600; color: #2d3748; margin-top: 30px; margin-bottom: 10px;">
                        How to Use This Report
                    </h4>
                    <ul style="font-size: 14px; color: #495057; line-height: 1.8; margin-left: 20px;">
                        <li><strong>Focus on Trends:</strong> Look for patterns over time, not single-day values</li>
                        <li><strong>At-Risk Indicators:</strong> Pay attention to metrics consistently exceeding clinical thresholds</li>
                        <li><strong>Behavioral Insights:</strong> Stage 1 predictions show concrete behaviors you can modify</li>
                        <li><strong>Personalized Interventions:</strong> Evidence-based actions tailored to your specific patterns</li>
                        <li><strong>Professional Consultation:</strong> This is a screening tool - consult healthcare providers for clinical diagnosis</li>
                    </ul>
                </div>
            </div>
            
            <!-- Stage 1: Behavioral Predictions -->
            <div class="section">
                <div class="section-title">
                    üü¶ Stage 1: Behavioral Forecasting
                    <span class="badge badge-real">REAL DATA</span>
                </div>
                <div class="section-subtitle">
                    LSTM trained on StudentLife dataset ‚Üí predicts next-day behaviors
                </div>
                
                <div class="card-grid">

                    <div class="card">
                        <div class="card-header">
                            <span>üò¥ Sleep</span>
                        </div>
                        <div class="card-value">6.5h</div>
                        <div class="card-uncertainty">¬±11%</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span>üèÉ Exercise</span>
                        </div>
                        <div class="card-value">22.0min</div>
                        <div class="card-uncertainty">¬±32%</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span>üì± Screen Time</span>
                        </div>
                        <div class="card-value">6.8h</div>
                        <div class="card-uncertainty">¬±35%</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span>üë• Social</span>
                        </div>
                        <div class="card-value">31.1</div>
                        <div class="card-uncertainty">¬±30%</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span>üö∂ Steps</span>
                        </div>
                        <div class="card-value">2270</div>
                        <div class="card-uncertainty">¬±35%</div>
                    </div>

                </div>
                
                <p style="font-size: 14px; color: #6c757d; margin-top: 10px;">
                    <strong>Note:</strong> These predictions show what your behavior is likely to be on the next day, 
                    based on patterns learned from real university students. Uncertainty percentages reflect prediction confidence.
                </p>
            </div>
            
            <!-- Stage 2: Mental Health Predictions -->
            <div class="section">
                <div class="section-title">
                    üü© Stage 2: Mental Health Inference
                    <span class="badge badge-synthetic">SYNTHETIC DATA</span>
                </div>
                <div class="section-subtitle">
                    LSTM trained on 1.5M synthetic records ‚Üí infers mental health from predicted behaviors
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">‚ÑπÔ∏è Confidence Note</div>
                    <div class="info-box-content">
                        Stage 1 predictions have ¬±29% average uncertainty. 
                        This uncertainty propagates to Stage 2, reducing overall confidence. Mental health scores 
                        are inferred from <em>predicted behaviors</em>, not measured directly.
                    </div>
                </div>
                
                <div class="card-grid">

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Stress Level</div>
                            <div class="prediction-value healthy">6.5/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Mood</div>
                            <div class="prediction-value healthy">5.3/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Energy</div>
                            <div class="prediction-value healthy">5.4/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Focus</div>
                            <div class="prediction-value healthy">5.7/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card at-risk">
                        <div class="prediction-header">
                            <div class="prediction-name">PSS</div>
                            <div class="prediction-value at-risk">23.2/40</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚ö†Ô∏è At-risk threshold exceeded
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Anxiety</div>
                            <div class="prediction-value healthy">6.6/21</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Depression</div>
                            <div class="prediction-value healthy">13.2/27</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Job Satisfaction</div>
                            <div class="prediction-value healthy">6.1/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                </div>
                
                <p style="font-size: 14px; color: #6c757d; margin-top: 10px;">
                    <strong>Important:</strong> These mental health scores are inferred from predicted behaviors, not measured directly. 
                    The model was trained on synthetic data patterns. If you're concerned about any scores, 
                    please consult a mental health professional.
                </p>
            </div>
            
            <!-- Temporal Analysis -->
            <div class="section">
                <div class="section-title">üìà Temporal Trends Analysis</div>
                <div class="section-subtitle">
                    Complete prediction history across all {num_predictions} days
                </div>
                
                <h3 style="font-size: 20px; font-weight: 600; color: #2d3748; margin-bottom: 15px; margin-top: 20px;">
                    üü¶ Stage 1: Behavioral Predictions Over Time
                </h3>
                
                <div class="chart-container">
                    <canvas id="sleepChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <canvas id="exerciseChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <canvas id="screenSocialChart"></canvas>
                </div>
                
                <h3 style="font-size: 20px; font-weight: 600; color: #2d3748; margin-bottom: 15px; margin-top: 30px;">
                    üü© Stage 2: Mental Health Predictions Over Time
                </h3>
                
                <div class="chart-container">
                    <canvas id="dailyMetricsChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <canvas id="clinicalScalesChart"></canvas>
                </div>
            </div>

            <!-- Personalized Interventions -->
            <div class="section">
                <div class="section-title">üí° Personalized Evidence-Based Interventions</div>
                <div class="section-subtitle">
                    Specific actions tailored to your behavioral patterns and mental health trends
                </div>

                <div class="recommendation-card high">
                    <div class="recommendation-header">
                        <div class="recommendation-title">Sleep Quality</div>
                        <div class="priority-badge high">HIGH PRIORITY</div>
                    </div>
                    
                    <div class="recommendation-metrics">
                        <div class="metric-item">
                            <div class="metric-label">Current</div>
                            <div class="metric-value">6.4 hours/night</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Target</div>
                            <div class="metric-value">7-9 hours/night</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Change Needed</div>
                            <div class="metric-value">+0.6h per night</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Trend</div>
                            <div class="metric-value">increasing (1.2165452816554738)</div>
                        </div>
                    </div>
                    
                    <div class="recommendation-evidence">
                        <strong>üìä Impact:</strong> Sleep deprivation linked to 60% increased stress, 80% increased anxiety risk
                    </div>
                    
                    <div class="recommendation-evidence" style="margin-top: 10px;">
                        <strong>üî¨ Evidence:</strong> Students with <7h sleep showed 2.3x higher depression scores vs 7-9h group (StudentLife dataset)
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong style="font-size: 14px; color: #2d3748;">‚úÖ Specific Actions:</strong>
                        <ul class="action-list">

                            <li>Set consistent bedtime 10pm (need to wake by 8am for 7.6h sleep)</li>

                            <li>Create wind-down routine: dim lights 9pm, no screens after 9:30pm (blue light suppresses melatonin)</li>

                            <li>Temperature hack: keep bedroom 65-68¬∞F (thermoregulation critical for deep sleep)</li>

                            <li>If racing thoughts: brain dump journal before bed, box breathing (4-4-4-4 pattern)</li>

                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef;">
                        <strong style="font-size: 12px; color: #6c757d;">üìö Research Citations:</strong>
                        <ul style="font-size: 12px; color: #6c757d; margin-left: 20px; margin-top: 5px;">

                            <li>Walker M. (2017). Why We Sleep - Sleep deprivation linked to Alzheimer's, cardiovascular disease</li>

                            <li>Pilcher JJ et al. (1997). Sleep quality vs sleep quantity - quality matters more for wellbeing</li>

                            <li>Wang R et al. (2014). StudentLife study - smartphone sensing predicts academic performance from sleep</li>

                        </ul>
                    </div>
                </div>

                <div class="recommendation-card high">
                    <div class="recommendation-header">
                        <div class="recommendation-title">Stress Management - Clinical Level</div>
                        <div class="priority-badge high">HIGH PRIORITY</div>
                    </div>
                    
                    <div class="recommendation-metrics">
                        <div class="metric-item">
                            <div class="metric-label">Current</div>
                            <div class="metric-value">PSS 23.2/40 (at-risk 100% of time)</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Target</div>
                            <div class="metric-value">PSS <20 (below clinical threshold)</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Change Needed</div>
                            <div class="metric-value">Reduce chronic stress load</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Trend</div>
                            <div class="metric-value">increasing (N/A)</div>
                        </div>
                    </div>
                    
                    <div class="recommendation-evidence">
                        <strong>üìä Impact:</strong> PSS ‚â•20 linked to cardiovascular disease, immune dysfunction, burnout
                    </div>
                    
                    <div class="recommendation-evidence" style="margin-top: 10px;">
                        <strong>üî¨ Evidence:</strong> Chronic stress increases cortisol ‚Üí hippocampus atrophy, memory impairment
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong style="font-size: 14px; color: #2d3748;">‚úÖ Specific Actions:</strong>
                        <ul class="action-list">

                            <li>üßò Daily meditation: Start 10min/day (Headspace, Calm) - reduces cortisol by 23% in 8 weeks</li>

                            <li>ü´Å Box breathing during stress spikes: 4s inhale ‚Üí 4s hold ‚Üí 4s exhale ‚Üí 4s hold (5 rounds)</li>

                            <li>üìù Weekly stress audit: identify chronic stressors (work? relationships?) - problem-solve systematically</li>

                            <li>ü©∫ Consider professional help: therapist, EAP (Employee Assistance Program) - stress management is learnable</li>

                            <li>‚õî Set boundaries: clear work hours, learn to say no, delegate when possible</li>

                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef;">
                        <strong style="font-size: 12px; color: #6c757d;">üìö Research Citations:</strong>
                        <ul style="font-size: 12px; color: #6c757d; margin-left: 20px; margin-top: 5px;">

                            <li>Cohen S et al. (1983). Perceived Stress Scale - PSS-10 validation and clinical cutoffs</li>

                            <li>Pascoe MC et al. (2017). Mindfulness meditation decreases cortisol, inflammatory markers</li>

                            <li>Goyal M et al. (2014). Meditation programs for psychological stress - JAMA systematic review</li>

                        </ul>
                    </div>
                </div>

                <div class="recommendation-card medium">
                    <div class="recommendation-header">
                        <div class="recommendation-title">Physical Activity</div>
                        <div class="priority-badge medium">MEDIUM PRIORITY</div>
                    </div>
                    
                    <div class="recommendation-metrics">
                        <div class="metric-item">
                            <div class="metric-label">Current</div>
                            <div class="metric-value">22 min/day</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Target</div>
                            <div class="metric-value">30-60 min/day</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Change Needed</div>
                            <div class="metric-value">+8min daily movement</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Trend</div>
                            <div class="metric-value">decreasing (-0.8174372488469815)</div>
                        </div>
                    </div>
                    
                    <div class="recommendation-evidence">
                        <strong>üìä Impact:</strong> Exercise reduces depression by 20-30%, anxiety by 48% (meta-analysis)
                    </div>
                    
                    <div class="recommendation-evidence" style="margin-top: 10px;">
                        <strong>üî¨ Evidence:</strong> 30min daily moderate exercise effective as medication for mild-moderate depression
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong style="font-size: 14px; color: #2d3748;">‚úÖ Specific Actions:</strong>
                        <ul class="action-list">

                            <li>Morning routine: 8min walk before work (sunlight exposure boosts serotonin)</li>

                            <li>Lunch break movement: 15min walk after eating (improves focus, reduces afternoon slump)</li>

                            <li>Social exercise: join running club, sports team, or gym class (accountability + social benefits)</li>

                            <li>Minimum effective dose: 3x 10min walks = 1x 30min session (breaks cortisol accumulation)</li>

                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef;">
                        <strong style="font-size: 12px; color: #6c757d;">üìö Research Citations:</strong>
                        <ul style="font-size: 12px; color: #6c757d; margin-left: 20px; margin-top: 5px;">

                            <li>Schuch FB et al. (2016). Exercise as treatment for depression - meta-analysis of 25 RCTs</li>

                            <li>Aylett E et al. (2018). Exercise for anxiety disorders - 48% symptom reduction</li>

                            <li>Mammen G & Faulkner G (2013). Physical activity and prevention of depression</li>

                        </ul>
                    </div>
                </div>

                <div class="recommendation-card medium">
                    <div class="recommendation-header">
                        <div class="recommendation-title">Daily Movement</div>
                        <div class="priority-badge medium">MEDIUM PRIORITY</div>
                    </div>
                    
                    <div class="recommendation-metrics">
                        <div class="metric-item">
                            <div class="metric-label">Current</div>
                            <div class="metric-value">2164 steps/day</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Target</div>
                            <div class="metric-value">7,000-10,000 steps/day</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Change Needed</div>
                            <div class="metric-value">+2836 steps (~1.4 miles)</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Trend</div>
                            <div class="metric-value">increasing (6.457693163778547)</div>
                        </div>
                    </div>
                    
                    <div class="recommendation-evidence">
                        <strong>üìä Impact:</strong> Low activity linked to cardiovascular risk, poor sleep, reduced cognitive function
                    </div>
                    
                    <div class="recommendation-evidence" style="margin-top: 10px;">
                        <strong>üî¨ Evidence:</strong> 7,000 steps/day reduces mortality by 50-70% vs 4,000 steps (Lee et al. 2019)
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong style="font-size: 14px; color: #2d3748;">‚úÖ Specific Actions:</strong>
                        <ul class="action-list">

                            <li>Commute hack: park farther away, get off bus 1 stop early, take stairs</li>

                            <li>Walking meetings: 1-on-1s can be done walking (creativity boost + steps)</li>

                            <li>Post-dinner walk: 15-20min aids digestion, improves sleep quality</li>

                            <li>Hourly movement: set timer for 5min walks every 2h (adds 4000 steps workday)</li>

                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef;">
                        <strong style="font-size: 12px; color: #6c757d;">üìö Research Citations:</strong>
                        <ul style="font-size: 12px; color: #6c757d; margin-left: 20px; margin-top: 5px;">

                            <li>Lee IM et al. (2019). Association of step volume and intensity with mortality</li>

                            <li>Paluch AE et al. (2022). Daily steps and mortality - optimal dose 8,000-10,000</li>

                        </ul>
                    </div>
                </div>

            </div>

            <!-- Footer -->
            <div class="section">
                <div style="border-top: 2px solid #e9ecef; padding-top: 20px; font-size: 12px; color: #6c757d;">
                    <p><strong>Disclaimer:</strong> This report is generated by machine learning models and should not be used as a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of qualified health providers with any questions you may have regarding mental health.</p>
                    <p style="margin-top: 10px;"><strong>Data Sources & Methodology:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li><strong>Stage 1:</strong> Behavioral forecasting model trained on StudentLife dataset (Dartmouth College, 2013) - 10 students, 674 sensor records</li>
                        <li><strong>Stage 2:</strong> Mental health inference model trained on synthetic dataset - 1.5M records with controlled behavioral patterns</li>
                        <li><strong>Pipeline:</strong> Two-stage hybrid approach predicts next-day behaviors (Stage 1), then infers mental health (Stage 2)</li>
                        <li><strong>Uncertainty:</strong> Stage 1 uncertainties are quantified and compound in Stage 2 predictions</li>
                        <li><strong>Recommendations:</strong> Based on peer-reviewed mental health research and clinical guidelines</li>
                    </ul>
                    <p style="margin-top: 10px;"><strong>Limitations:</strong> Stage 2 model trained on synthetic data with different behavioral patterns than real StudentLife data. Distribution mismatch may affect prediction accuracy. No ground truth mental health labels available for validation.</p>
                    <p style="margin-top: 10px;">Report generated: 2025-12-10 15:46:41 | Total predictions analyzed: 78 days</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Prepare data
        const dates = ["2013-03-30", "2013-03-31", "2013-04-01", "2013-04-02", "2013-04-03", "2013-04-04", "2013-04-05", "2013-04-06", "2013-04-07", "2013-04-08", "2013-04-09", "2013-04-10", "2013-04-11", "2013-04-12", "2013-04-13", "2013-04-14", "2013-04-15", "2013-04-16", "2013-04-17", "2013-04-18", "2013-04-19", "2013-04-20", "2013-04-21", "2013-04-22", "2013-04-23", "2013-04-24", "2013-04-25", "2013-04-26", "2013-04-27", "2013-04-28", "2013-04-29", "2013-04-30", "2013-05-01", "2013-05-02", "2013-05-03", "2013-05-04", "2013-05-05", "2013-05-06", "2013-05-07", "2013-05-08", "2013-05-09", "2013-05-10", "2013-05-11", "2013-05-12", "2013-05-13", "2013-05-14", "2013-05-15", "2013-05-16", "2013-05-17", "2013-05-18", "2013-05-19", "2013-05-20", "2013-05-22", "2013-05-23", "2013-05-24", "2013-05-25", "2013-05-26", "2013-05-27", "2013-05-28", "2013-05-29", "2013-05-30", "2013-05-31", "2013-06-01", "2013-06-02", "2013-06-03", "2013-06-04", "2013-06-05", "2013-06-06", "2013-06-07", "2013-06-08", "2013-06-09", "2013-06-10", "2013-06-11", "2013-06-12", "2013-06-13", "2013-06-14", "2013-06-15", "2013-06-20"];
        const sleepData = [6.45102872186871, 6.4263748749395715, 6.706530047027333, 6.39169266957386, 6.3268388331122285, 6.151073808541286, 6.141029215637524, 6.498521940640296, 6.743313900904516, 6.888883005766062, 6.786239661683844, 6.585795996871825, 6.3287849503810465, 6.303269583177563, 5.857894556180347, 5.767604337824508, 5.90188541997606, 5.718110073768175, 5.454178181386725, 5.408991350469294, 5.232395676346589, 5.668966070444351, 6.274468965453205, 6.436060795469792, 6.213578862477969, 5.9734392126349025, 6.027054676097723, 5.624262740653354, 5.41710471470886, 5.891065357885696, 6.313084538281192, 6.709117257517291, 7.075456253042618, 6.884705006753515, 6.722453704080137, 6.546466107487527, 6.5989973945379266, 6.886070573587511, 6.9432244569371235, 6.928850487025921, 6.6394875856859725, 6.48482307852365, 6.5653829628846285, 6.552238932610355, 6.597866449401375, 6.675417237416508, 6.791841436086316, 6.962245364333771, 7.002005971797036, 7.030941049603268, 6.676016272432496, 6.63272378513334, 6.168736320027917, 5.757042849579422, 6.005281984454355, 6.144424995121541, 6.4348731979309, 6.597650017877659, 6.712109236173638, 7.001322168468564, 7.051910114091684, 7.050688028824567, 7.116028499748917, 6.785771806209727, 6.653580364952076, 6.555077735283536, 6.477843267029355, 6.401115894554698, 6.408443317114579, 6.407404731796543, 6.484663047053045, 6.533179499897788, 6.5374518144353875, 6.445228558912533, 6.446733990307763, 6.471354527138421, 6.463771222458392, 6.529508407402843];
        const sleepUnc = [0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329];
        const exerciseData = [22.22992204338955, 22.61028670535706, 23.074987892497994, 22.071657536990955, 22.49609162587748, 21.97337736015257, 22.085852995539888, 23.2593118467614, 24.052846112801394, 24.07219281473592, 23.255531718557474, 22.90751198358052, 22.221108407892448, 22.571135246011398, 21.637819290874827, 21.469616185350816, 21.919471379946053, 20.71325627507065, 19.927151009160312, 19.4984051909913, 18.796044481809403, 20.091335515655153, 22.289683894873427, 23.368294434309544, 21.716322434574067, 21.018297864659868, 20.934429258911806, 19.55971065839278, 19.290700837346623, 21.948097979659657, 22.92877940676976, 23.462178130817684, 24.45736512587384, 23.739773953727397, 22.998392094538946, 22.478239562066975, 23.01590041946302, 23.274503116969537, 23.563284605166718, 24.115049699313552, 23.253638313864865, 22.805848248734204, 23.155558782896215, 23.078517134453158, 23.0662917826624, 23.12576439686474, 23.698116104457313, 24.136397388741845, 23.735381418976655, 23.630476140680706, 22.090606261472796, 21.950072663290054, 20.14379530945396, 18.671969368756187, 19.885689597141827, 20.64736846424039, 22.080817699584003, 22.64914677050438, 23.211702274935853, 24.066689204796717, 24.03230184857567, 23.873516367859306, 24.11815565949948, 22.803050070053494, 22.24336931484898, 21.93224537771884, 21.679127719623995, 21.485859241839393, 21.61759793287575, 21.704378797159926, 21.82694196414703, 22.003072580619165, 21.964015604750703, 21.74461223962117, 21.79522423962644, 21.776106381303173, 21.75252349478173, 22.048206380217238];
        const exerciseUnc = [7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191];
        const screenData = [6.496275301159505, 6.649319488941591, 6.776477901952428, 6.466693616631998, 6.43999121068675, 6.199438729394644, 6.396218353519158, 6.713400581105018, 6.699954079284092, 6.700248331585916, 6.36963544930432, 6.221534808241466, 5.954123070480924, 6.210030713766421, 5.729208316229207, 5.725182786268996, 5.884358658981439, 5.540455945321137, 5.275493020596782, 5.39379642021335, 5.639159620502641, 5.943446213948897, 6.715654042307044, 6.604395986420427, 6.019240924793716, 5.747007879275068, 5.946600764298946, 5.541173964157021, 5.472714167238807, 6.287361263155512, 6.771053142870323, 6.878843847765355, 6.955651910233692, 6.5265186391798915, 6.382088408408217, 6.159866620969194, 6.497479322512014, 6.731270591825587, 6.809901794014653, 6.908616634216177, 6.456502042292723, 6.293179769274301, 6.569195595608203, 6.508063509377873, 6.5168116267094955, 6.713409657185808, 6.613956268918041, 6.622403146806278, 6.66419388877453, 6.754682054095571, 6.306014788160052, 6.3388356610926015, 5.752188556613053, 5.42334713081435, 5.896292048476264, 6.152052691667525, 6.612216398636947, 6.371597683564786, 6.3707913530221605, 6.620084568326198, 6.739262801285644, 6.814917265072531, 6.846405070630854, 6.551459349030716, 6.537275883856065, 6.609887519525493, 6.681773753039346, 6.690084993942434, 6.728110386933141, 6.789736255177917, 6.822728457143486, 6.852114357642509, 6.856627762961412, 6.780016997201692, 6.769340356766826, 6.812717395966603, 6.82580949844237, 6.846064501504042];
        const socialData = [30.158495877262403, 30.306753004023616, 30.885087184634177, 29.760780857874643, 30.058746150389805, 29.42820926571913, 29.508159440701615, 31.563593201010676, 32.72304303767632, 32.68360614784006, 31.2523449844294, 30.279658832128643, 29.682213733084033, 30.447317240283617, 29.48449581161046, 28.80996622322315, 29.718166690570566, 28.481977809735085, 26.794746287014174, 26.197226569555333, 25.496488285823737, 27.53498380715876, 30.41617399676368, 31.312072370183603, 29.352957934998926, 27.721909846523225, 27.997325143936504, 26.258948552070187, 26.143618669573605, 29.560746380225538, 31.229535870183977, 31.649226506256348, 32.871284013570936, 31.29506748243693, 29.88065216658005, 29.41995412758255, 30.336263458405764, 31.08968191941517, 31.816945709376412, 32.20825609908932, 30.443002913596356, 29.798034489080635, 30.56542337916739, 30.331567435255554, 30.53250459823897, 30.894716768570817, 31.361658704383036, 31.872450525113397, 31.27595162705676, 31.389548429881494, 28.62202035184571, 29.06704118896405, 26.334321331664967, 24.504434070723832, 27.448132768888463, 28.64256566471129, 30.425998942711104, 29.875460756150503, 30.792425431307368, 32.00108322051618, 31.88648174915584, 31.702092735875112, 32.175161915518, 29.556423449146465, 29.916821080195472, 30.118988459624415, 30.09794437414502, 30.266847739056082, 30.637465835964605, 30.795795179146097, 30.662021571219807, 30.918921345901218, 30.78764251790543, 30.819247013248663, 30.820460091438374, 30.521264864588893, 30.637342553367187, 31.105780101742834];
        const stressData = [6.529543399810791, 6.581754684448242, 6.775291442871094, 6.658455848693848, 6.659048080444336, 6.556070327758789, 6.622292995452881, 6.55501651763916, 6.5285444259643555, 6.6940202713012695, 6.69379997253418, 6.660495758056641, 6.660336494445801, 6.3860955238342285, 6.30840539932251, 6.511424541473389, 6.533518314361572, 6.577073097229004, 6.722376823425293, 6.311410427093506, 6.634884834289551, 6.4936203956604, 6.558200836181641, 6.6716461181640625, 6.66397762298584, 6.716561317443848, 6.5249176025390625, 6.599018096923828, 6.588651657104492, 6.655635833740234, 6.572856903076172, 6.676826000213623, 6.536752700805664, 6.612960338592529, 6.611368179321289, 6.440717697143555, 6.408045768737793, 6.4694952964782715, 6.067843914031982, 5.856889724731445, 5.9958906173706055, 5.982662200927734, 6.086170196533203, 6.172599792480469, 6.351159572601318, 6.576842308044434, 6.602688312530518, 6.637332439422607, 6.729267120361328, 6.595355987548828, 6.529495716094971, 6.582157135009766, 6.635715007781982, 6.663312911987305, 6.481337547302246, 6.624870300292969, 6.770544052124023, 6.665907859802246, 6.657334804534912, 6.719099998474121, 6.644588470458984, 6.803452491760254, 6.681997299194336, 6.736689567565918, 6.698701858520508, 6.599145889282227, 6.604358196258545, 6.6174116134643555, 6.655664443969727, 6.286309242248535, 6.568438529968262, 6.570901393890381, 6.452478408813477, 6.560297966003418, 6.515721321105957, 6.464462757110596, 6.446817398071289, 6.5336198806762695];
        const moodData = [5.554769039154053, 5.167056560516357, 5.357595443725586, 5.250311851501465, 5.370269298553467, 5.2835540771484375, 5.353116035461426, 5.294434547424316, 5.252262115478516, 5.307906627655029, 5.28985071182251, 5.335561275482178, 5.298553466796875, 5.334639072418213, 5.325527667999268, 5.321879863739014, 5.340027809143066, 5.339080333709717, 5.319280624389648, 5.285135269165039, 5.327381610870361, 5.334183692932129, 5.333772659301758, 5.316720962524414, 5.31422758102417, 5.380791187286377, 5.294651985168457, 5.335663795471191, 5.28158712387085, 5.366957187652588, 5.339160442352295, 5.411350250244141, 5.370596885681152, 5.320623874664307, 5.368927001953125, 5.310019493103027, 5.349119186401367, 5.3847222328186035, 5.511858940124512, 5.529458999633789, 5.410562038421631, 5.299037933349609, 5.32066011428833, 5.296424388885498, 5.294453144073486, 5.348367214202881, 5.389046669006348, 5.316970348358154, 5.326803684234619, 5.306201457977295, 5.30209493637085, 5.343639373779297, 5.2434258460998535, 5.307870864868164, 5.244578838348389, 5.294284343719482, 5.331817150115967, 5.4070587158203125, 5.398301601409912, 5.410869598388672, 5.401768207550049, 5.4395012855529785, 5.362597942352295, 5.365902900695801, 5.325632095336914, 5.255600929260254, 5.300490379333496, 5.293812274932861, 5.352114200592041, 5.3231892585754395, 5.275137901306152, 5.326659679412842, 5.167686462402344, 5.3761305809021, 5.2666707038879395, 5.3286871910095215, 5.307903289794922, 5.268881320953369];
        const energyData = [5.3761162757873535, 5.410304546356201, 5.405857563018799, 5.369740962982178, 5.471397399902344, 5.396195888519287, 5.445648670196533, 5.397170543670654, 5.394050121307373, 5.432122707366943, 5.421514511108398, 5.457663059234619, 5.408955097198486, 5.436395168304443, 5.382143974304199, 5.442264556884766, 5.397032737731934, 5.4129557609558105, 5.445657253265381, 5.378978729248047, 5.428164005279541, 5.410017490386963, 5.445296287536621, 5.404446601867676, 5.44542932510376, 5.460239887237549, 5.39843225479126, 5.422839641571045, 5.419607162475586, 5.4502716064453125, 5.410518169403076, 5.481700420379639, 5.431197643280029, 5.429786205291748, 5.4760589599609375, 5.413759708404541, 5.451601505279541, 5.443808078765869, 5.450854778289795, 5.429533958435059, 5.406074523925781, 5.3706278800964355, 5.401777267456055, 5.370846271514893, 5.367010116577148, 5.427305221557617, 5.438016414642334, 5.440631866455078, 5.470887660980225, 5.413557052612305, 5.410813331604004, 5.421294212341309, 5.365952014923096, 5.406134605407715, 5.373908996582031, 5.410053730010986, 5.406099796295166, 5.407856464385986, 5.433167457580566, 5.3993144035339355, 5.454131126403809, 5.490362644195557, 5.434377670288086, 5.420158863067627, 5.405768871307373, 5.390793323516846, 5.39984655380249, 5.403193473815918, 5.407498359680176, 5.378979682922363, 5.404257297515869, 5.416071891784668, 5.396702766418457, 5.424967288970947, 5.395504951477051, 5.4022040367126465, 5.393007278442383, 5.399272441864014];
        const focusData = [5.515089988708496, 5.759675979614258, 5.6308465003967285, 5.745837211608887, 5.974466800689697, 5.788841247558594, 5.92739725112915, 5.7965312004089355, 5.785015106201172, 5.847105979919434, 5.722397327423096, 5.882312774658203, 5.67536735534668, 5.842191696166992, 5.620938301086426, 5.893838882446289, 5.660222053527832, 5.737399578094482, 5.8968825340271, 5.610328674316406, 5.876543998718262, 5.784623622894287, 5.90342378616333, 5.785826683044434, 5.86749792098999, 5.913269996643066, 5.779240608215332, 5.78302001953125, 5.809584140777588, 5.906904220581055, 5.821841239929199, 5.943059921264648, 5.787665843963623, 5.798042297363281, 5.869019508361816, 5.789180755615234, 5.863889217376709, 5.785485744476318, 5.789373397827148, 5.704785346984863, 5.6257219314575195, 5.6150922775268555, 5.7088541984558105, 5.627072334289551, 5.678060531616211, 5.786933898925781, 5.794569969177246, 5.838910102844238, 5.8733978271484375, 5.734014987945557, 5.725919723510742, 5.753077983856201, 5.441483974456787, 5.711850643157959, 5.621187210083008, 5.6233344078063965, 5.679536819458008, 5.5929388999938965, 5.706381320953369, 5.538278102874756, 5.774385452270508, 5.888880729675293, 5.729201793670654, 5.613524436950684, 5.743712902069092, 5.721828937530518, 5.723827362060547, 5.740591049194336, 5.769648551940918, 5.694643497467041, 5.702160835266113, 5.690194129943848, 5.736855983734131, 5.729633331298828, 5.745044231414795, 5.6280436515808105, 5.722696304321289, 5.682563781738281];
        const pssData = [22.591293334960938, 23.622833251953125, 23.620113372802734, 23.604942321777344, 23.40267562866211, 23.372451782226562, 23.549358367919922, 23.696949005126953, 23.575716018676758, 23.586017608642578, 23.792083740234375, 23.667634963989258, 24.061477661132812, 23.612770080566406, 23.59222412109375, 23.16937255859375, 23.049819946289062, 23.166889190673828, 23.23064422607422, 22.900632858276367, 23.170391082763672, 23.013107299804688, 23.231388092041016, 23.4361572265625, 23.34894561767578, 23.313674926757812, 23.449260711669922, 23.25518035888672, 23.351240158081055, 23.315628051757812, 23.347911834716797, 23.320520401000977, 22.952083587646484, 23.151817321777344, 23.206928253173828, 23.58102035522461, 22.991161346435547, 22.793264389038086, 22.491954803466797, 22.393787384033203, 22.603652954101562, 22.684795379638672, 22.858898162841797, 23.03143882751465, 23.166576385498047, 22.898937225341797, 22.910240173339844, 23.09386444091797, 23.308406829833984, 23.232303619384766, 23.09844207763672, 23.159393310546875, 23.56973648071289, 23.243257522583008, 23.313140869140625, 23.38928985595703, 23.479324340820312, 22.944673538208008, 22.878032684326172, 22.79862403869629, 22.84064483642578, 22.80995750427246, 22.854774475097656, 23.072277069091797, 23.191078186035156, 23.374839782714844, 23.07659912109375, 23.072723388671875, 23.131790161132812, 22.49231719970703, 23.26984405517578, 23.082345962524414, 22.882232666015625, 22.994884490966797, 23.231571197509766, 23.065811157226562, 22.893035888671875, 23.20640754699707];
        const anxietyData = [6.539524078369141, 6.829994201660156, 6.799263000488281, 6.791997909545898, 6.685426712036133, 6.7093892097473145, 6.743663787841797, 6.824920654296875, 6.798626899719238, 6.708114147186279, 6.775206089019775, 6.784890651702881, 6.954104423522949, 6.834269046783447, 6.8413825035095215, 6.674373149871826, 6.675962924957275, 6.652332782745361, 6.688619613647461, 6.687976837158203, 6.678802013397217, 6.63991117477417, 6.731501579284668, 6.758537292480469, 6.7019829750061035, 6.678791522979736, 6.737374782562256, 6.695474624633789, 6.764050483703613, 6.702608585357666, 6.704647064208984, 6.675673007965088, 6.574110984802246, 6.651392459869385, 6.682893753051758, 6.85831356048584, 6.6218061447143555, 6.603275299072266, 6.5584025382995605, 6.601306915283203, 6.631314754486084, 6.671514511108398, 6.688394069671631, 6.727995872497559, 6.758809566497803, 6.600167274475098, 6.5926055908203125, 6.6151862144470215, 6.70365047454834, 6.691379070281982, 6.632028102874756, 6.568519592285156, 6.808518886566162, 6.640272617340088, 6.666192531585693, 6.726290702819824, 6.7637763023376465, 6.614785671234131, 6.604827880859375, 6.569580554962158, 6.5487380027771, 6.546442985534668, 6.591848373413086, 6.643619537353516, 6.65342378616333, 6.755385398864746, 6.623956203460693, 6.627208709716797, 6.649616241455078, 6.468289852142334, 6.6756086349487305, 6.610241413116455, 6.57587194442749, 6.583609580993652, 6.643747806549072, 6.592771530151367, 6.56778621673584, 6.638805866241455];
        const depressionData = [12.790787696838379, 13.773006439208984, 13.422370910644531, 13.63363265991211, 13.20954418182373, 13.063225746154785, 13.244016647338867, 13.23209285736084, 13.208296775817871, 12.975264549255371, 13.007772445678711, 13.043407440185547, 13.046899795532227, 13.005805969238281, 13.119285583496094, 13.155580520629883, 13.113924026489258, 12.999469757080078, 13.265836715698242, 12.953680038452148, 13.34715747833252, 13.018794059753418, 13.186596870422363, 13.126604080200195, 13.068456649780273, 12.999852180480957, 13.044931411743164, 13.154692649841309, 13.415447235107422, 13.284746170043945, 13.113595962524414, 13.030738830566406, 12.851668357849121, 12.975050926208496, 12.861541748046875, 13.154337882995605, 12.85682487487793, 12.81141185760498, 12.588258743286133, 12.335517883300781, 12.550065994262695, 12.62112045288086, 12.682655334472656, 12.846196174621582, 13.052881240844727, 13.043832778930664, 12.924688339233398, 13.027181625366211, 13.087261199951172, 12.95162582397461, 12.883200645446777, 13.19908332824707, 13.248393058776855, 13.29775333404541, 13.268634796142578, 13.282339096069336, 13.386303901672363, 12.917632102966309, 12.917635917663574, 12.932793617248535, 12.794750213623047, 12.822646141052246, 12.853584289550781, 12.965826988220215, 13.21676254272461, 13.18748950958252, 12.872135162353516, 12.956283569335938, 13.018302917480469, 13.577859878540039, 13.312868118286133, 13.187125205993652, 13.61593246459961, 13.169693946838379, 13.204145431518555, 12.987613677978516, 13.619243621826172, 13.223712921142578];
        const satisfactionData = [6.023343086242676, 5.8200836181640625, 5.917591094970703, 5.9549384117126465, 6.05097770690918, 5.998279094696045, 5.966674327850342, 5.9250054359436035, 5.898686408996582, 5.923105239868164, 5.996606826782227, 5.8984808921813965, 5.746728897094727, 5.795729160308838, 5.88109016418457, 5.944225788116455, 5.955309867858887, 5.878614902496338, 5.874050140380859, 5.894418716430664, 5.919195175170898, 5.9268927574157715, 6.051914691925049, 5.932163238525391, 5.975565433502197, 6.035205364227295, 6.012406826019287, 5.935603141784668, 5.956172943115234, 5.842639923095703, 5.90022087097168, 5.9596333503723145, 6.058712959289551, 5.959494113922119, 6.026619911193848, 5.902904510498047, 6.018962860107422, 6.008017063140869, 6.110416412353516, 6.67161226272583, 6.109421730041504, 6.883170127868652, 6.2697625160217285, 6.410528182983398, 6.346126079559326, 5.912718296051025, 5.933859348297119, 5.911227703094482, 5.94024133682251, 6.016512393951416, 6.028912544250488, 6.2178826332092285, 6.039740562438965, 6.267154216766357, 6.14231014251709, 6.042884349822998, 5.991413593292236, 5.99470853805542, 6.03963041305542, 6.053683757781982, 5.919882297515869, 5.851527214050293, 5.905658721923828, 5.979633331298828, 6.027081489562988, 5.982411861419678, 5.936144828796387, 5.986455917358398, 6.038547992706299, 5.906105041503906, 6.010725498199463, 6.007936000823975, 5.943147659301758, 6.0823283195495605, 6.033283233642578, 6.142773628234863, 5.945088863372803, 6.06786584854126];
        
        // Chart.js default configuration
        Chart.defaults.font.family = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
        Chart.defaults.color = '#495057';
        
        // Sleep Chart with Uncertainty Bands
        new Chart(document.getElementById('sleepChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Sleep Hours',
                        data: sleepData,
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        borderWidth: 2,
                        fill: false,
                        tension: 0.4
                    },
                    {
                        label: 'Upper Bound (+1œÉ)',
                        data: sleepData.map((val, i) => val + sleepUnc[i]),
                        borderColor: 'rgba(102, 126, 234, 0.3)',
                        borderDash: [5, 5],
                        borderWidth: 1,
                        fill: '+1',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        pointRadius: 0
                    },
                    {
                        label: 'Lower Bound (-1œÉ)',
                        data: sleepData.map((val, i) => Math.max(0, val - sleepUnc[i])),
                        borderColor: 'rgba(102, 126, 234, 0.3)',
                        borderDash: [5, 5],
                        borderWidth: 1,
                        fill: false,
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Sleep Hours Over Time (with uncertainty)',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 12,
                        title: {
                            display: true,
                            text: 'Hours'
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Date'
                        },
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
        
        // Exercise Chart
        new Chart(document.getElementById('exerciseChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Exercise Minutes',
                        data: exerciseData,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'Target (30 min)',
                        data: Array(dates.length).fill(30),
                        borderColor: '#ffc107',
                        borderDash: [10, 5],
                        borderWidth: 2,
                        fill: false,
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Exercise Minutes Per Day',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Minutes'
                        }
                    },
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
        
        // Screen Time + Social Interactions (Dual Axis)
        new Chart(document.getElementById('screenSocialChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Screen Time (hours)',
                        data: screenData,
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y',
                        tension: 0.4
                    },
                    {
                        label: 'Social Interactions',
                        data: socialData,
                        borderColor: '#17a2b8',
                        backgroundColor: 'rgba(23, 162, 184, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y1',
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Screen Time & Social Interactions',
                        font: { size: 16, weight: 'bold' }
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'Screen Time (hours)',
                            color: '#dc3545'
                        },
                        ticks: {
                            color: '#dc3545'
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'Social Interactions',
                            color: '#17a2b8'
                        },
                        ticks: {
                            color: '#17a2b8'
                        },
                        grid: {
                            drawOnChartArea: false
                        }
                    },
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
        
        // Daily Mental Health Metrics
        new Chart(document.getElementById('dailyMetricsChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Stress Level',
                        data: stressData,
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    },
                    {
                        label: 'Mood Score',
                        data: moodData,
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    },
                    {
                        label: 'Energy Level',
                        data: energyData,
                        borderColor: '#f39c12',
                        backgroundColor: 'rgba(243, 156, 18, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    },
                    {
                        label: 'Focus Score',
                        data: focusData,
                        borderColor: '#9b59b6',
                        backgroundColor: 'rgba(155, 89, 182, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Daily Mental Health Metrics (0-10 scale)',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 10,
                        title: {
                            display: true,
                            text: 'Score (0-10)'
                        }
                    },
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
        
        // Clinical Scales
        new Chart(document.getElementById('clinicalScalesChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'PSS (0-40)',
                        data: pssData,
                        borderColor: '#e67e22',
                        backgroundColor: 'rgba(230, 126, 34, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y',
                        tension: 0.4
                    },
                    {
                        label: 'Anxiety/GAD-7 (0-21)',
                        data: anxietyData,
                        borderColor: '#16a085',
                        backgroundColor: 'rgba(22, 160, 133, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y1',
                        tension: 0.4
                    },
                    {
                        label: 'Depression/PHQ-9 (0-27)',
                        data: depressionData,
                        borderColor: '#8e44ad',
                        backgroundColor: 'rgba(142, 68, 173, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y2',
                        tension: 0.4
                    },
                    {
                        label: 'PSS Risk Threshold (20)',
                        data: Array(dates.length).fill(20),
                        borderColor: 'rgba(231, 76, 60, 0.5)',
                        borderDash: [5, 5],
                        borderWidth: 2,
                        yAxisID: 'y',
                        fill: false,
                        pointRadius: 0
                    },
                    {
                        label: 'Anxiety Risk Threshold (10)',
                        data: Array(dates.length).fill(10),
                        borderColor: 'rgba(22, 160, 133, 0.5)',
                        borderDash: [5, 5],
                        borderWidth: 2,
                        yAxisID: 'y1',
                        fill: false,
                        pointRadius: 0
                    },
                    {
                        label: 'Depression Risk Threshold (14)',
                        data: Array(dates.length).fill(14),
                        borderColor: 'rgba(142, 68, 173, 0.5)',
                        borderDash: [5, 5],
                        borderWidth: 2,
                        yAxisID: 'y2',
                        fill: false,
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Clinical Mental Health Scales with Risk Thresholds',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'PSS (0-40)'
                        },
                        max: 40
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'GAD-7 (0-21)'
                        },
                        max: 21,
                        grid: {
                            drawOnChartArea: false
                        }
                    },
                    y2: {
                        type: 'linear',
                        display: false,
                        max: 27
                    },
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
