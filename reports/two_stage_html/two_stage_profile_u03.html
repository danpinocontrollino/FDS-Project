<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Two-Stage Mental Health Profile - u03</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f7fa;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .header .subtitle {
            font-size: 18px;
            opacity: 0.95;
        }
        
        .metadata {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 30px 40px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }
        
        .metadata-item {
            text-align: center;
        }
        
        .metadata-label {
            font-size: 12px;
            color: #6c757d;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }
        
        .metadata-value {
            font-size: 18px;
            font-weight: 600;
            color: #495057;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #2d3748;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-subtitle {
            font-size: 14px;
            color: #718096;
            margin-bottom: 20px;
            font-style: italic;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .badge-real {
            background: #d4edda;
            color: #155724;
        }
        
        .badge-synthetic {
            background: #fff3cd;
            color: #856404;
        }
        
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            border: 2px solid #e9ecef;
        }
        
        .card-header {
            font-size: 13px;
            color: #6c757d;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .card-value {
            font-size: 28px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 5px;
        }
        
        .card-uncertainty {
            font-size: 12px;
            color: #e67e22;
            font-weight: 600;
        }
        
        .prediction-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid #6c757d;
        }
        
        .prediction-card.at-risk {
            border-color: #dc3545;
            background: #fff5f5;
        }
        
        .prediction-card.healthy {
            border-color: #28a745;
            background: #f0fff4;
        }
        
        .prediction-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .prediction-name {
            font-size: 16px;
            font-weight: 600;
            color: #2d3748;
        }
        
        .prediction-value {
            font-size: 24px;
            font-weight: 700;
        }
        
        .prediction-value.at-risk {
            color: #dc3545;
        }
        
        .prediction-value.healthy {
            color: #28a745;
        }
        
        .recommendation-card {
            background: white;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .recommendation-card.high {
            border-color: #e74c3c;
        }
        
        .recommendation-card.medium {
            border-color: #f39c12;
        }
        
        .recommendation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .recommendation-title {
            font-size: 18px;
            font-weight: 600;
            color: #2d3748;
        }
        
        .priority-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .priority-badge.high {
            background: #fee;
            color: #c00;
        }
        
        .priority-badge.medium {
            background: #fff4e6;
            color: #d68910;
        }
        
        .recommendation-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        
        .metric-item {
            display: flex;
            flex-direction: column;
        }
        
        .metric-label {
            font-size: 12px;
            color: #6c757d;
            margin-bottom: 4px;
        }
        
        .metric-value {
            font-size: 14px;
            font-weight: 600;
            color: #495057;
        }
        
        .recommendation-evidence {
            font-size: 14px;
            color: #495057;
            font-style: italic;
            margin-bottom: 15px;
            padding-left: 15px;
            border-left: 3px solid #e9ecef;
        }
        
        .action-list {
            list-style: none;
        }
        
        .action-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            font-size: 14px;
            color: #495057;
        }
        
        .action-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
        }
        
        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .warning-box-title {
            font-size: 16px;
            font-weight: 600;
            color: #856404;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .warning-box-content {
            font-size: 14px;
            color: #856404;
            line-height: 1.6;
        }
        
        .info-box {
            background: #d1ecf1;
            border: 1px solid #0c5460;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .info-box-title {
            font-size: 16px;
            font-weight: 600;
            color: #0c5460;
            margin-bottom: 10px;
        }
        
        .info-box-content {
            font-size: 14px;
            color: #0c5460;
            line-height: 1.6;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .chart-title {
            font-size: 18px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 15px;
            text-align: center;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
                border-radius: 0;
                max-width: 100%;
            }
            
            .header {
                background: #667eea;
                color: white;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            .section {
                page-break-inside: avoid;
            }
            
            * {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üß† Two-Stage Mental Health Profile</h1>
            <div class="subtitle">Hybrid Behavioral Forecasting + Mental Health Inference</div>
        </div>
        
        <!-- Metadata -->
        <div class="metadata">
            <div class="metadata-item">
                <div class="metadata-label">Student ID</div>
                <div class="metadata-value">u03</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">Generated</div>
                <div class="metadata-value">2025-12-10 15:46:41</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">Date Range</div>
                <div class="metadata-value">2013-03-31 to 2013-05-22</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">Predictions</div>
                <div class="metadata-value">49 days</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">Avg Uncertainty</div>
                <div class="metadata-value">¬±42%</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">At-Risk Factors</div>
                <div class="metadata-value">1</div>
            </div>
        </div>
        
        <div class="content">
            <!-- Pipeline Warning -->
            <div class="warning-box">
                <div class="warning-box-title">‚ö†Ô∏è Understanding This Two-Stage Report</div>
                <div class="warning-box-content">
                    <p><strong>This report uses a hybrid prediction pipeline:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Stage 1 (REAL DATA):</strong> Behavioral forecasting using patterns from StudentLife dataset (Dartmouth, 2013)</li>
                        <li><strong>Stage 2 (SYNTHETIC DATA):</strong> Mental health inference trained on 1.5M synthetic records</li>
                    </ul>
                    <p style="margin-top: 10px;"><strong>Limitations:</strong> Stage 1 uncertainties (¬±42% average) compound in Stage 2. Mental health predictions are based on behavioral forecasts, not direct measurements. This report analyzes all 49 days of predictions. Use this as a screening tool, not a clinical diagnosis.</p>
                </div>
            </div>
            
            <!-- Methodology Section -->
            <div class="section">
                <div class="section-title">üî¨ How This System Works: Two-Stage Pipeline Methodology</div>
                
                <div style="background: #f8f9fa; padding: 25px; border-radius: 8px; margin-bottom: 20px;">
                    <h4 style="font-size: 18px; font-weight: 600; color: #2d3748; margin-bottom: 15px;">
                        Pipeline Architecture
                    </h4>
                    
                    <div style="display: flex; align-items: center; justify-content: space-around; margin: 30px 0; flex-wrap: wrap; gap: 20px;">
                        <div style="text-align: center; flex: 1; min-width: 200px;">
                            <div style="background: #667eea; color: white; padding: 20px; border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üì±</div>
                                <div style="font-weight: 600;">Input Sensors</div>
                                <div style="font-size: 12px; opacity: 0.9;">6 features √ó 7 days</div>
                            </div>
                            <div style="font-size: 12px; color: #6c757d;">
                                Sleep, Work, Exercise<br>Screen, Social, Steps
                            </div>
                        </div>
                        
                        <div style="font-size: 24px; color: #6c757d;">‚Üí</div>
                        
                        <div style="text-align: center; flex: 1; min-width: 200px;">
                            <div style="background: #3498db; color: white; padding: 20px; border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üß†</div>
                                <div style="font-weight: 600;">Stage 1: LSTM</div>
                                <div style="font-size: 12px; opacity: 0.9;">Real Data (StudentLife)</div>
                            </div>
                            <div style="font-size: 12px; color: #6c757d;">
                                Predicts next-day<br>behaviors + uncertainty
                            </div>
                        </div>
                        
                        <div style="font-size: 24px; color: #6c757d;">‚Üí</div>
                        
                        <div style="text-align: center; flex: 1; min-width: 200px;">
                            <div style="background: #28a745; color: white; padding: 20px; border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üß†</div>
                                <div style="font-weight: 600;">Stage 2: LSTM</div>
                                <div style="font-size: 12px; opacity: 0.9;">Synthetic Data (1.5M)</div>
                            </div>
                            <div style="font-size: 12px; color: #6c757d;">
                                Infers mental health<br>from behaviors
                            </div>
                        </div>
                        
                        <div style="font-size: 24px; color: #6c757d;">‚Üí</div>
                        
                        <div style="text-align: center; flex: 1; min-width: 200px;">
                            <div style="background: #764ba2; color: white; padding: 20px; border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üìä</div>
                                <div style="font-weight: 600;">Output</div>
                                <div style="font-size: 12px; opacity: 0.9;">8 mental health scores</div>
                            </div>
                            <div style="font-size: 12px; color: #6c757d;">
                                PSS, Anxiety, Depression<br>Stress, Mood, Energy, Focus
                            </div>
                        </div>
                    </div>
                    
                    <h4 style="font-size: 16px; font-weight: 600; color: #2d3748; margin-top: 30px; margin-bottom: 10px;">
                        Stage 1: Behavioral Forecasting (REAL DATA)
                    </h4>
                    <ul style="font-size: 14px; color: #495057; line-height: 1.8; margin-left: 20px;">
                        <li><strong>Training Data:</strong> StudentLife dataset from Dartmouth College (2013) - 10 students, 674 real sensor measurements</li>
                        <li><strong>Model:</strong> LSTM (Long Short-Term Memory) with 32 hidden dimensions, 1 layer</li>
                        <li><strong>Input:</strong> 6 behavioral features (sleep, work hours, exercise, steps, screen time, social interactions) over 7-day windows</li>
                        <li><strong>Output:</strong> 5 next-day behavioral predictions + aleatoric uncertainty (inherent data noise)</li>
                        <li><strong>Uncertainty:</strong> Quantified using log-variance outputs - measures model confidence in each prediction</li>
                        <li><strong>Why Real Data Matters:</strong> Captures authentic behavioral patterns, circadian rhythms, and day-to-day variability from actual university students</li>
                    </ul>
                    
                    <h4 style="font-size: 16px; font-weight: 600; color: #2d3748; margin-top: 30px; margin-bottom: 10px;">
                        Stage 2: Mental Health Inference (SYNTHETIC DATA)
                    </h4>
                    <ul style="font-size: 14px; color: #495057; line-height: 1.8; margin-left: 20px;">
                        <li><strong>Training Data:</strong> 1.5M synthetic records with controlled behavioral patterns and mental health labels</li>
                        <li><strong>Model:</strong> LSTM with 128 hidden dimensions, 2 layers, multi-task prediction heads</li>
                        <li><strong>Input:</strong> Stage 1 predicted behaviors (5 features)</li>
                        <li><strong>Output:</strong> 8 mental health scores (4 daily: stress, mood, energy, focus + 4 weekly: PSS, anxiety, depression, job satisfaction)</li>
                        <li><strong>Why Synthetic:</strong> No ground truth mental health labels exist for StudentLife data; synthetic data provides controlled relationships</li>
                        <li><strong>Clinical Scales:</strong> PSS-10 (Perceived Stress), GAD-7 (Generalized Anxiety), PHQ-9 (Patient Health Questionnaire - Depression)</li>
                    </ul>
                    
                    <h4 style="font-size: 16px; font-weight: 600; color: #2d3748; margin-top: 30px; margin-bottom: 10px;">
                        Error Propagation & Uncertainty
                    </h4>
                    <ul style="font-size: 14px; color: #495057; line-height: 1.8; margin-left: 20px;">
                        <li><strong>Stage 1 Uncertainty:</strong> Average ¬±42% across 49 days - varies by behavioral metric</li>
                        <li><strong>Compounding Effect:</strong> Stage 2 treats Stage 1 predictions as inputs, so uncertainty accumulates</li>
                        <li><strong>Distribution Mismatch:</strong> Stage 1 outputs may differ from Stage 2 training distribution ‚Üí reduced confidence</li>
                        <li><strong>Interpretation:</strong> Higher uncertainty = model less confident. Use trends and patterns, not absolute values</li>
                        <li><strong>Validation Challenge:</strong> No ground truth mental health labels for StudentLife students to validate Stage 2 predictions</li>
                    </ul>
                    
                    <h4 style="font-size: 16px; font-weight: 600; color: #2d3748; margin-top: 30px; margin-bottom: 10px;">
                        How to Use This Report
                    </h4>
                    <ul style="font-size: 14px; color: #495057; line-height: 1.8; margin-left: 20px;">
                        <li><strong>Focus on Trends:</strong> Look for patterns over time, not single-day values</li>
                        <li><strong>At-Risk Indicators:</strong> Pay attention to metrics consistently exceeding clinical thresholds</li>
                        <li><strong>Behavioral Insights:</strong> Stage 1 predictions show concrete behaviors you can modify</li>
                        <li><strong>Personalized Interventions:</strong> Evidence-based actions tailored to your specific patterns</li>
                        <li><strong>Professional Consultation:</strong> This is a screening tool - consult healthcare providers for clinical diagnosis</li>
                    </ul>
                </div>
            </div>
            
            <!-- Stage 1: Behavioral Predictions -->
            <div class="section">
                <div class="section-title">
                    üü¶ Stage 1: Behavioral Forecasting
                    <span class="badge badge-real">REAL DATA</span>
                </div>
                <div class="section-subtitle">
                    LSTM trained on StudentLife dataset ‚Üí predicts next-day behaviors
                </div>
                
                <div class="card-grid">

                    <div class="card">
                        <div class="card-header">
                            <span>üò¥ Sleep</span>
                        </div>
                        <div class="card-value">4.4h</div>
                        <div class="card-uncertainty">¬±16%</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span>üèÉ Exercise</span>
                        </div>
                        <div class="card-value">14.7min</div>
                        <div class="card-uncertainty">¬±48%</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span>üì± Screen Time</span>
                        </div>
                        <div class="card-value">4.7h</div>
                        <div class="card-uncertainty">¬±51%</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span>üë• Social</span>
                        </div>
                        <div class="card-value">21.1</div>
                        <div class="card-uncertainty">¬±45%</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span>üö∂ Steps</span>
                        </div>
                        <div class="card-value">1619</div>
                        <div class="card-uncertainty">¬±49%</div>
                    </div>

                </div>
                
                <p style="font-size: 14px; color: #6c757d; margin-top: 10px;">
                    <strong>Note:</strong> These predictions show what your behavior is likely to be on the next day, 
                    based on patterns learned from real university students. Uncertainty percentages reflect prediction confidence.
                </p>
            </div>
            
            <!-- Stage 2: Mental Health Predictions -->
            <div class="section">
                <div class="section-title">
                    üü© Stage 2: Mental Health Inference
                    <span class="badge badge-synthetic">SYNTHETIC DATA</span>
                </div>
                <div class="section-subtitle">
                    LSTM trained on 1.5M synthetic records ‚Üí infers mental health from predicted behaviors
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">‚ÑπÔ∏è Confidence Note</div>
                    <div class="info-box-content">
                        Stage 1 predictions have ¬±42% average uncertainty. 
                        This uncertainty propagates to Stage 2, reducing overall confidence. Mental health scores 
                        are inferred from <em>predicted behaviors</em>, not measured directly.
                    </div>
                </div>
                
                <div class="card-grid">

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Stress Level</div>
                            <div class="prediction-value healthy">6.1/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Mood</div>
                            <div class="prediction-value healthy">5.7/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Energy</div>
                            <div class="prediction-value healthy">5.3/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Focus</div>
                            <div class="prediction-value healthy">5.3/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card at-risk">
                        <div class="prediction-header">
                            <div class="prediction-name">PSS</div>
                            <div class="prediction-value at-risk">20.9/40</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚ö†Ô∏è At-risk threshold exceeded
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Anxiety</div>
                            <div class="prediction-value healthy">6.1/21</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Depression</div>
                            <div class="prediction-value healthy">12.7/27</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Job Satisfaction</div>
                            <div class="prediction-value healthy">7.3/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                </div>
                
                <p style="font-size: 14px; color: #6c757d; margin-top: 10px;">
                    <strong>Important:</strong> These mental health scores are inferred from predicted behaviors, not measured directly. 
                    The model was trained on synthetic data patterns. If you're concerned about any scores, 
                    please consult a mental health professional.
                </p>
            </div>
            
            <!-- Temporal Analysis -->
            <div class="section">
                <div class="section-title">üìà Temporal Trends Analysis</div>
                <div class="section-subtitle">
                    Complete prediction history across all {num_predictions} days
                </div>
                
                <h3 style="font-size: 20px; font-weight: 600; color: #2d3748; margin-bottom: 15px; margin-top: 20px;">
                    üü¶ Stage 1: Behavioral Predictions Over Time
                </h3>
                
                <div class="chart-container">
                    <canvas id="sleepChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <canvas id="exerciseChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <canvas id="screenSocialChart"></canvas>
                </div>
                
                <h3 style="font-size: 20px; font-weight: 600; color: #2d3748; margin-bottom: 15px; margin-top: 30px;">
                    üü© Stage 2: Mental Health Predictions Over Time
                </h3>
                
                <div class="chart-container">
                    <canvas id="dailyMetricsChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <canvas id="clinicalScalesChart"></canvas>
                </div>
            </div>

            <!-- Personalized Interventions -->
            <div class="section">
                <div class="section-title">üí° Personalized Evidence-Based Interventions</div>
                <div class="section-subtitle">
                    Specific actions tailored to your behavioral patterns and mental health trends
                </div>

                <div class="recommendation-card high">
                    <div class="recommendation-header">
                        <div class="recommendation-title">Sleep Quality</div>
                        <div class="priority-badge high">HIGH PRIORITY</div>
                    </div>
                    
                    <div class="recommendation-metrics">
                        <div class="metric-item">
                            <div class="metric-label">Current</div>
                            <div class="metric-value">4.3 hours/night</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Target</div>
                            <div class="metric-value">7-9 hours/night</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Change Needed</div>
                            <div class="metric-value">+2.7h per night</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Trend</div>
                            <div class="metric-value">increasing (1.6219549410333185)</div>
                        </div>
                    </div>
                    
                    <div class="recommendation-evidence">
                        <strong>üìä Impact:</strong> Sleep deprivation linked to 60% increased stress, 80% increased anxiety risk
                    </div>
                    
                    <div class="recommendation-evidence" style="margin-top: 10px;">
                        <strong>üî¨ Evidence:</strong> Students with <7h sleep showed 2.3x higher depression scores vs 7-9h group (StudentLife dataset)
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong style="font-size: 14px; color: #2d3748;">‚úÖ Specific Actions:</strong>
                        <ul class="action-list">

                            <li>Set consistent bedtime 10pm (need to wake by 10am for 9.7h sleep)</li>

                            <li>Create wind-down routine: dim lights 9pm, no screens after 9:30pm (blue light suppresses melatonin)</li>

                            <li>Temperature hack: keep bedroom 65-68¬∞F (thermoregulation critical for deep sleep)</li>

                            <li>If racing thoughts: brain dump journal before bed, box breathing (4-4-4-4 pattern)</li>

                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef;">
                        <strong style="font-size: 12px; color: #6c757d;">üìö Research Citations:</strong>
                        <ul style="font-size: 12px; color: #6c757d; margin-left: 20px; margin-top: 5px;">

                            <li>Walker M. (2017). Why We Sleep - Sleep deprivation linked to Alzheimer's, cardiovascular disease</li>

                            <li>Pilcher JJ et al. (1997). Sleep quality vs sleep quantity - quality matters more for wellbeing</li>

                            <li>Wang R et al. (2014). StudentLife study - smartphone sensing predicts academic performance from sleep</li>

                        </ul>
                    </div>
                </div>

                <div class="recommendation-card high">
                    <div class="recommendation-header">
                        <div class="recommendation-title">Stress Management - Clinical Level</div>
                        <div class="priority-badge high">HIGH PRIORITY</div>
                    </div>
                    
                    <div class="recommendation-metrics">
                        <div class="metric-item">
                            <div class="metric-label">Current</div>
                            <div class="metric-value">PSS 22.7/40 (at-risk 100% of time)</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Target</div>
                            <div class="metric-value">PSS <20 (below clinical threshold)</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Change Needed</div>
                            <div class="metric-value">Reduce chronic stress load</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Trend</div>
                            <div class="metric-value">decreasing (N/A)</div>
                        </div>
                    </div>
                    
                    <div class="recommendation-evidence">
                        <strong>üìä Impact:</strong> PSS ‚â•20 linked to cardiovascular disease, immune dysfunction, burnout
                    </div>
                    
                    <div class="recommendation-evidence" style="margin-top: 10px;">
                        <strong>üî¨ Evidence:</strong> Chronic stress increases cortisol ‚Üí hippocampus atrophy, memory impairment
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong style="font-size: 14px; color: #2d3748;">‚úÖ Specific Actions:</strong>
                        <ul class="action-list">

                            <li>üßò Daily meditation: Start 10min/day (Headspace, Calm) - reduces cortisol by 23% in 8 weeks</li>

                            <li>ü´Å Box breathing during stress spikes: 4s inhale ‚Üí 4s hold ‚Üí 4s exhale ‚Üí 4s hold (5 rounds)</li>

                            <li>üìù Weekly stress audit: identify chronic stressors (work? relationships?) - problem-solve systematically</li>

                            <li>ü©∫ Consider professional help: therapist, EAP (Employee Assistance Program) - stress management is learnable</li>

                            <li>‚õî Set boundaries: clear work hours, learn to say no, delegate when possible</li>

                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef;">
                        <strong style="font-size: 12px; color: #6c757d;">üìö Research Citations:</strong>
                        <ul style="font-size: 12px; color: #6c757d; margin-left: 20px; margin-top: 5px;">

                            <li>Cohen S et al. (1983). Perceived Stress Scale - PSS-10 validation and clinical cutoffs</li>

                            <li>Pascoe MC et al. (2017). Mindfulness meditation decreases cortisol, inflammatory markers</li>

                            <li>Goyal M et al. (2014). Meditation programs for psychological stress - JAMA systematic review</li>

                        </ul>
                    </div>
                </div>

                <div class="recommendation-card medium">
                    <div class="recommendation-header">
                        <div class="recommendation-title">Physical Activity</div>
                        <div class="priority-badge medium">MEDIUM PRIORITY</div>
                    </div>
                    
                    <div class="recommendation-metrics">
                        <div class="metric-item">
                            <div class="metric-label">Current</div>
                            <div class="metric-value">13 min/day</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Target</div>
                            <div class="metric-value">30-60 min/day</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Change Needed</div>
                            <div class="metric-value">+17min daily movement</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Trend</div>
                            <div class="metric-value">increasing (4.7249681549679625)</div>
                        </div>
                    </div>
                    
                    <div class="recommendation-evidence">
                        <strong>üìä Impact:</strong> Exercise reduces depression by 20-30%, anxiety by 48% (meta-analysis)
                    </div>
                    
                    <div class="recommendation-evidence" style="margin-top: 10px;">
                        <strong>üî¨ Evidence:</strong> 30min daily moderate exercise effective as medication for mild-moderate depression
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong style="font-size: 14px; color: #2d3748;">‚úÖ Specific Actions:</strong>
                        <ul class="action-list">

                            <li>Morning routine: 17min walk before work (sunlight exposure boosts serotonin)</li>

                            <li>Lunch break movement: 15min walk after eating (improves focus, reduces afternoon slump)</li>

                            <li>Social exercise: join running club, sports team, or gym class (accountability + social benefits)</li>

                            <li>Minimum effective dose: 3x 10min walks = 1x 30min session (breaks cortisol accumulation)</li>

                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef;">
                        <strong style="font-size: 12px; color: #6c757d;">üìö Research Citations:</strong>
                        <ul style="font-size: 12px; color: #6c757d; margin-left: 20px; margin-top: 5px;">

                            <li>Schuch FB et al. (2016). Exercise as treatment for depression - meta-analysis of 25 RCTs</li>

                            <li>Aylett E et al. (2018). Exercise for anxiety disorders - 48% symptom reduction</li>

                            <li>Mammen G & Faulkner G (2013). Physical activity and prevention of depression</li>

                        </ul>
                    </div>
                </div>

                <div class="recommendation-card medium">
                    <div class="recommendation-header">
                        <div class="recommendation-title">Daily Movement</div>
                        <div class="priority-badge medium">MEDIUM PRIORITY</div>
                    </div>
                    
                    <div class="recommendation-metrics">
                        <div class="metric-item">
                            <div class="metric-label">Current</div>
                            <div class="metric-value">1551 steps/day</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Target</div>
                            <div class="metric-value">7,000-10,000 steps/day</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Change Needed</div>
                            <div class="metric-value">+3449 steps (~1.7 miles)</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Trend</div>
                            <div class="metric-value">increasing (9.837024589398654)</div>
                        </div>
                    </div>
                    
                    <div class="recommendation-evidence">
                        <strong>üìä Impact:</strong> Low activity linked to cardiovascular risk, poor sleep, reduced cognitive function
                    </div>
                    
                    <div class="recommendation-evidence" style="margin-top: 10px;">
                        <strong>üî¨ Evidence:</strong> 7,000 steps/day reduces mortality by 50-70% vs 4,000 steps (Lee et al. 2019)
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong style="font-size: 14px; color: #2d3748;">‚úÖ Specific Actions:</strong>
                        <ul class="action-list">

                            <li>Commute hack: park farther away, get off bus 1 stop early, take stairs</li>

                            <li>Walking meetings: 1-on-1s can be done walking (creativity boost + steps)</li>

                            <li>Post-dinner walk: 15-20min aids digestion, improves sleep quality</li>

                            <li>Hourly movement: set timer for 5min walks every 2h (adds 4000 steps workday)</li>

                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef;">
                        <strong style="font-size: 12px; color: #6c757d;">üìö Research Citations:</strong>
                        <ul style="font-size: 12px; color: #6c757d; margin-left: 20px; margin-top: 5px;">

                            <li>Lee IM et al. (2019). Association of step volume and intensity with mortality</li>

                            <li>Paluch AE et al. (2022). Daily steps and mortality - optimal dose 8,000-10,000</li>

                        </ul>
                    </div>
                </div>

            </div>

            <!-- Footer -->
            <div class="section">
                <div style="border-top: 2px solid #e9ecef; padding-top: 20px; font-size: 12px; color: #6c757d;">
                    <p><strong>Disclaimer:</strong> This report is generated by machine learning models and should not be used as a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of qualified health providers with any questions you may have regarding mental health.</p>
                    <p style="margin-top: 10px;"><strong>Data Sources & Methodology:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li><strong>Stage 1:</strong> Behavioral forecasting model trained on StudentLife dataset (Dartmouth College, 2013) - 10 students, 674 sensor records</li>
                        <li><strong>Stage 2:</strong> Mental health inference model trained on synthetic dataset - 1.5M records with controlled behavioral patterns</li>
                        <li><strong>Pipeline:</strong> Two-stage hybrid approach predicts next-day behaviors (Stage 1), then infers mental health (Stage 2)</li>
                        <li><strong>Uncertainty:</strong> Stage 1 uncertainties are quantified and compound in Stage 2 predictions</li>
                        <li><strong>Recommendations:</strong> Based on peer-reviewed mental health research and clinical guidelines</li>
                    </ul>
                    <p style="margin-top: 10px;"><strong>Limitations:</strong> Stage 2 model trained on synthetic data with different behavioral patterns than real StudentLife data. Distribution mismatch may affect prediction accuracy. No ground truth mental health labels available for validation.</p>
                    <p style="margin-top: 10px;">Report generated: 2025-12-10 15:46:41 | Total predictions analyzed: 49 days</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Prepare data
        const dates = ["2013-03-31", "2013-04-01", "2013-04-02", "2013-04-03", "2013-04-04", "2013-04-05", "2013-04-06", "2013-04-07", "2013-04-08", "2013-04-09", "2013-04-10", "2013-04-11", "2013-04-12", "2013-04-13", "2013-04-14", "2013-04-15", "2013-04-16", "2013-04-17", "2013-04-18", "2013-04-19", "2013-04-20", "2013-04-21", "2013-04-22", "2013-04-23", "2013-04-24", "2013-04-25", "2013-04-26", "2013-04-27", "2013-04-28", "2013-04-29", "2013-04-30", "2013-05-01", "2013-05-02", "2013-05-03", "2013-05-04", "2013-05-05", "2013-05-06", "2013-05-07", "2013-05-08", "2013-05-09", "2013-05-10", "2013-05-11", "2013-05-12", "2013-05-13", "2013-05-14", "2013-05-15", "2013-05-16", "2013-05-21", "2013-05-22"];
        const sleepData = [4.349395603699204, 3.9319213170689022, 3.355080920638686, 2.816495994683941, 3.5923231807287936, 3.7384347312912944, 4.084182113690346, 4.432745881739232, 4.4256136513094635, 4.854409333835548, 4.82940825436467, 4.733794644866263, 4.637030827573345, 4.830321253882121, 5.097316497694062, 5.124534885740582, 5.450675910527262, 5.655135818494809, 5.842788762984939, 5.630871767011024, 5.099945471981737, 4.412744849929709, 4.321779681497582, 3.5387087266628963, 3.529584114938642, 2.915702216066478, 3.3676458935444185, 3.9997995590630535, 4.370582172195567, 4.367488538857366, 4.752141275117905, 5.076152640628481, 5.139352159648643, 4.824999376834939, 4.32765739978406, 4.551403181840717, 4.436967516139624, 4.190423495165159, 3.7834137946752713, 3.7926090641841825, 3.7391103542988646, 3.711627167792704, 3.5499140419124577, 3.5292937450902686, 3.8966913456392844, 4.239184432356453, 3.956945276203383, 4.047560183902999, 4.419940840598489];
        const sleepUnc = [0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329];
        const exerciseData = [14.044480514077465, 12.405652186610483, 9.748967878994595, 7.67285402629456, 10.692064491709017, 10.975592361884397, 12.253864164841445, 13.478115828824983, 13.549295345671192, 14.955168241957567, 14.570761478458971, 14.159646824255935, 13.842087226092177, 14.772985579995106, 15.527936760568995, 15.697234317239822, 17.402944320710375, 18.035748356200116, 18.746075137793824, 17.727384588668126, 15.607291939010295, 13.213259913881137, 13.263854237690229, 10.049044877412646, 10.351281738659175, 7.986707515325897, 9.716488289375551, 12.189894852589445, 13.577809575280508, 13.869360755074378, 15.146438993927461, 16.410363617651697, 16.059522267251772, 14.730399414779209, 12.84221467124741, 14.040872044885852, 13.749986668481428, 12.789982353258967, 11.344353166592759, 11.214386829869817, 10.955789130097338, 11.001190019124003, 10.860741698066287, 10.927348130443626, 12.334563575916057, 13.602529314776506, 12.818510892169952, 13.237097527015386, 14.708077745898306];
        const exerciseUnc = [7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191];
        const screenData = [4.39763374119568, 3.731923960527573, 2.906465361539015, 2.146399780582459, 3.224206560449761, 3.3723261820466495, 3.89726796655831, 4.220538659642191, 4.172512938300297, 4.572276840287943, 4.430029010768295, 4.480073655859401, 4.200545350243315, 4.54443891579044, 4.858493064928557, 4.866540955423941, 5.214762226795696, 5.10564814288252, 5.284402850637731, 4.826426407106474, 4.182715605627206, 3.469756036492422, 3.3115049155672054, 2.7736592492076038, 2.9714356935227655, 2.3384660734973193, 2.871110425239995, 3.86185223492447, 3.9755083930466664, 4.2472716073196235, 4.571464891219114, 5.111748853886368, 4.997546978398536, 4.492405888682304, 3.922833413303559, 4.1696077280586366, 4.046745542719212, 3.804146225127843, 3.485212458014158, 3.4678633134856307, 3.391273004923883, 3.27287048874249, 3.3756549427252085, 3.553534024781282, 4.08166742030622, 4.442301600774574, 4.003853713679801, 4.217747260572349, 4.724638016974338];
        const socialData = [19.12853306786418, 18.220022137133558, 15.9825157786637, 13.393794508929727, 17.634682006810614, 17.851872654341093, 19.528653649513256, 21.357711503506078, 20.83681460039983, 22.515095298747923, 21.495895214874377, 21.516153056420116, 20.24779461149396, 22.015489892649533, 23.057045597003395, 21.821373684954573, 24.033896274940545, 24.103574357712652, 25.258714804637155, 23.706682256715446, 20.984552854123734, 17.960504652563237, 19.867847238028553, 15.990078615898524, 16.724561913755778, 13.947815781506435, 16.300526200874593, 19.71791190222524, 20.74362311275425, 20.845610827831262, 21.759044034900036, 23.94973685969537, 22.540352150880096, 20.571883965991333, 18.52608684239908, 20.651951640291493, 20.293259653599456, 19.291533537881875, 18.093401599914056, 17.14270940152636, 16.455781025595385, 16.73380162000447, 17.15628120746835, 17.1348757375329, 19.061828437212895, 20.26807615038108, 18.436885535664025, 18.473210174665667, 21.10115054438416];
        const stressData = [6.283444404602051, 6.433050632476807, 6.4700727462768555, 6.22465705871582, 6.310854911804199, 6.324179649353027, 6.261830806732178, 6.3529534339904785, 6.465858459472656, 6.416524887084961, 6.4030866622924805, 6.465662002563477, 6.471373081207275, 6.4648871421813965, 6.4241790771484375, 6.454442024230957, 6.35097599029541, 6.441747665405273, 6.654101371765137, 6.513636589050293, 6.4531049728393555, 6.335310935974121, 6.261536598205566, 6.522553443908691, 6.438826560974121, 6.4782538414001465, 6.441133975982666, 6.586386680603027, 6.67939567565918, 6.333725929260254, 6.527754783630371, 6.358763694763184, 6.517866134643555, 6.3111572265625, 6.445828437805176, 6.314981460571289, 6.46345853805542, 6.475848197937012, 6.350096225738525, 6.391168594360352, 6.289073944091797, 6.457202911376953, 6.417422294616699, 6.4009528160095215, 6.298740386962891, 6.094549179077148, 5.984912872314453, 6.267815113067627, 6.08549690246582];
        const moodData = [5.288918495178223, 5.3408708572387695, 5.2505412101745605, 5.20148229598999, 5.290347576141357, 5.322595119476318, 5.370213508605957, 5.263694763183594, 5.24971866607666, 5.269894599914551, 5.249512195587158, 5.275868892669678, 5.2656073570251465, 5.252816200256348, 5.217628002166748, 5.2704057693481445, 5.445631980895996, 5.2720465660095215, 5.318253040313721, 5.292165756225586, 5.4278717041015625, 5.354178428649902, 5.405063629150391, 5.2196831703186035, 5.2934160232543945, 5.2159881591796875, 5.300782203674316, 5.26316499710083, 5.301939487457275, 5.222724437713623, 5.240226745605469, 5.275325298309326, 5.263633728027344, 5.355551242828369, 5.277968883514404, 5.357179164886475, 5.236352920532227, 5.217168807983398, 5.272327423095703, 5.270948886871338, 5.327827453613281, 5.286404132843018, 5.255999565124512, 5.273759841918945, 5.310220718383789, 5.4852728843688965, 5.459927558898926, 5.304576396942139, 5.713105201721191];
        const energyData = [5.4147844314575195, 5.400688171386719, 5.33272647857666, 5.3218512535095215, 5.3207807540893555, 5.324018478393555, 5.32903528213501, 5.375071048736572, 5.37255334854126, 5.355728626251221, 5.358607769012451, 5.377562046051025, 5.386109828948975, 5.377382755279541, 5.347008228302002, 5.397735118865967, 5.373969554901123, 5.40268611907959, 5.407597064971924, 5.428062915802002, 5.459528923034668, 5.328085422515869, 5.475746154785156, 5.3274431228637695, 5.39068078994751, 5.327053070068359, 5.382117748260498, 5.379626750946045, 5.389068603515625, 5.35594367980957, 5.345563888549805, 5.361789703369141, 5.388977527618408, 5.449267864227295, 5.405076503753662, 5.409873962402344, 5.3459553718566895, 5.3268232345581055, 5.325569152832031, 5.3398237228393555, 5.363424301147461, 5.37869930267334, 5.355813980102539, 5.361983299255371, 5.367563247680664, 5.321937561035156, 5.334456920623779, 5.383737564086914, 5.344529151916504];
        const focusData = [5.773985862731934, 5.616201400756836, 5.522193908691406, 5.339685916900635, 5.2390971183776855, 5.241774082183838, 5.293604373931885, 5.453030109405518, 5.497323989868164, 5.500649929046631, 5.574164390563965, 5.604846000671387, 5.65736722946167, 5.544951438903809, 5.376873970031738, 5.49996280670166, 5.410331726074219, 5.830545902252197, 5.707327365875244, 5.820920944213867, 5.895144462585449, 5.271002292633057, 5.8242268562316895, 5.332333087921143, 5.664422035217285, 5.453014373779297, 5.67311429977417, 5.773653984069824, 5.6329545974731445, 5.603318214416504, 5.296239852905273, 5.699805736541748, 5.723029613494873, 5.852348804473877, 5.790402889251709, 5.747889518737793, 5.4295759201049805, 5.216519355773926, 5.424921035766602, 5.466193675994873, 5.6229023933410645, 5.762244701385498, 5.637735366821289, 5.539077281951904, 5.621689796447754, 5.3148112297058105, 5.432057857513428, 5.78745698928833, 5.263271808624268];
        const pssData = [22.869787216186523, 22.810211181640625, 22.762874603271484, 23.011428833007812, 22.031597137451172, 21.677818298339844, 21.07393455505371, 22.93499755859375, 23.21612548828125, 23.025390625, 23.030109405517578, 23.14986801147461, 23.195587158203125, 23.218406677246094, 23.255752563476562, 23.188119888305664, 22.449443817138672, 23.14594841003418, 23.104419708251953, 23.172523498535156, 22.653711318969727, 21.373790740966797, 22.713409423828125, 23.201473236083984, 22.804920196533203, 22.928714752197266, 22.782634735107422, 23.03720474243164, 23.310565948486328, 22.694534301757812, 23.237903594970703, 22.748912811279297, 23.335634231567383, 22.827224731445312, 23.02557945251465, 22.733112335205078, 23.28473663330078, 23.15877914428711, 22.2622127532959, 22.693675994873047, 22.15860939025879, 22.722206115722656, 22.940134048461914, 23.01149559020996, 22.548309326171875, 21.140296936035156, 21.127565383911133, 22.413166046142578, 20.92285919189453];
        const anxietyData = [6.491743564605713, 6.496931076049805, 6.511213779449463, 6.592958450317383, 6.33911657333374, 6.230447292327881, 6.034062385559082, 6.505337715148926, 6.632634162902832, 6.556748390197754, 6.571841239929199, 6.56496000289917, 6.601797103881836, 6.600411415100098, 6.637115478515625, 6.606070518493652, 6.442051410675049, 6.622326850891113, 6.598159313201904, 6.632043838500977, 6.460324287414551, 6.106383323669434, 6.423482894897461, 6.657985687255859, 6.49845027923584, 6.601499557495117, 6.509836196899414, 6.613801956176758, 6.6994147300720215, 6.548211097717285, 6.631773471832275, 6.517780303955078, 6.668812274932861, 6.459847450256348, 6.565277576446533, 6.448229789733887, 6.674902439117432, 6.620597839355469, 6.409590244293213, 6.491186141967773, 6.340724945068359, 6.466367721557617, 6.552755832672119, 6.5826005935668945, 6.459611892700195, 6.129946708679199, 6.1213788986206055, 6.425105571746826, 6.0642290115356445];
        const depressionData = [13.578457832336426, 13.205965042114258, 13.570478439331055, 14.025845527648926, 13.501112937927246, 13.352038383483887, 13.180693626403809, 13.690881729125977, 13.757259368896484, 13.552881240844727, 13.768518447875977, 13.62170696258545, 13.582019805908203, 13.652441024780273, 14.009052276611328, 13.700335502624512, 13.237285614013672, 13.12240982055664, 13.075021743774414, 13.04903793334961, 12.790702819824219, 13.121171951293945, 13.303567886352539, 13.696675300598145, 13.298446655273438, 13.79395866394043, 13.220499038696289, 13.631818771362305, 13.118719100952148, 13.867588996887207, 13.819690704345703, 13.88711166381836, 13.358489990234375, 13.025671005249023, 13.272785186767578, 13.02577018737793, 14.030786514282227, 13.964910507202148, 13.651195526123047, 13.733177185058594, 13.317252159118652, 13.134757041931152, 13.42862606048584, 13.535197257995605, 13.36915111541748, 13.179769515991211, 13.270305633544922, 13.191659927368164, 12.696928024291992];
        const satisfactionData = [6.419620990753174, 6.584907531738281, 6.502131938934326, 6.736026763916016, 6.807244300842285, 6.688630104064941, 6.7934722900390625, 6.459895133972168, 6.370121002197266, 6.40857458114624, 6.419386863708496, 6.370687484741211, 6.355393409729004, 6.335479259490967, 6.307493209838867, 6.446177959442139, 6.775920867919922, 6.095210552215576, 6.056540012359619, 6.0307488441467285, 6.235960960388184, 6.748687267303467, 6.4933319091796875, 6.431714057922363, 6.613262176513672, 6.485038757324219, 6.597538471221924, 6.10017204284668, 6.100085735321045, 6.079441070556641, 6.475235939025879, 6.369296073913574, 6.1730756759643555, 6.492368698120117, 6.301262378692627, 6.68699836730957, 6.377319812774658, 6.689630031585693, 6.54843282699585, 6.6786017417907715, 6.987909317016602, 6.6272969245910645, 6.600090026855469, 6.678150653839111, 6.839687347412109, 6.488513946533203, 6.783926010131836, 6.743985652923584, 7.289331912994385];
        
        // Chart.js default configuration
        Chart.defaults.font.family = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
        Chart.defaults.color = '#495057';
        
        // Sleep Chart with Uncertainty Bands
        new Chart(document.getElementById('sleepChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Sleep Hours',
                        data: sleepData,
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        borderWidth: 2,
                        fill: false,
                        tension: 0.4
                    },
                    {
                        label: 'Upper Bound (+1œÉ)',
                        data: sleepData.map((val, i) => val + sleepUnc[i]),
                        borderColor: 'rgba(102, 126, 234, 0.3)',
                        borderDash: [5, 5],
                        borderWidth: 1,
                        fill: '+1',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        pointRadius: 0
                    },
                    {
                        label: 'Lower Bound (-1œÉ)',
                        data: sleepData.map((val, i) => Math.max(0, val - sleepUnc[i])),
                        borderColor: 'rgba(102, 126, 234, 0.3)',
                        borderDash: [5, 5],
                        borderWidth: 1,
                        fill: false,
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Sleep Hours Over Time (with uncertainty)',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 12,
                        title: {
                            display: true,
                            text: 'Hours'
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Date'
                        },
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
        
        // Exercise Chart
        new Chart(document.getElementById('exerciseChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Exercise Minutes',
                        data: exerciseData,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'Target (30 min)',
                        data: Array(dates.length).fill(30),
                        borderColor: '#ffc107',
                        borderDash: [10, 5],
                        borderWidth: 2,
                        fill: false,
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Exercise Minutes Per Day',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Minutes'
                        }
                    },
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
        
        // Screen Time + Social Interactions (Dual Axis)
        new Chart(document.getElementById('screenSocialChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Screen Time (hours)',
                        data: screenData,
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y',
                        tension: 0.4
                    },
                    {
                        label: 'Social Interactions',
                        data: socialData,
                        borderColor: '#17a2b8',
                        backgroundColor: 'rgba(23, 162, 184, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y1',
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Screen Time & Social Interactions',
                        font: { size: 16, weight: 'bold' }
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'Screen Time (hours)',
                            color: '#dc3545'
                        },
                        ticks: {
                            color: '#dc3545'
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'Social Interactions',
                            color: '#17a2b8'
                        },
                        ticks: {
                            color: '#17a2b8'
                        },
                        grid: {
                            drawOnChartArea: false
                        }
                    },
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
        
        // Daily Mental Health Metrics
        new Chart(document.getElementById('dailyMetricsChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Stress Level',
                        data: stressData,
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    },
                    {
                        label: 'Mood Score',
                        data: moodData,
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    },
                    {
                        label: 'Energy Level',
                        data: energyData,
                        borderColor: '#f39c12',
                        backgroundColor: 'rgba(243, 156, 18, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    },
                    {
                        label: 'Focus Score',
                        data: focusData,
                        borderColor: '#9b59b6',
                        backgroundColor: 'rgba(155, 89, 182, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Daily Mental Health Metrics (0-10 scale)',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 10,
                        title: {
                            display: true,
                            text: 'Score (0-10)'
                        }
                    },
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
        
        // Clinical Scales
        new Chart(document.getElementById('clinicalScalesChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'PSS (0-40)',
                        data: pssData,
                        borderColor: '#e67e22',
                        backgroundColor: 'rgba(230, 126, 34, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y',
                        tension: 0.4
                    },
                    {
                        label: 'Anxiety/GAD-7 (0-21)',
                        data: anxietyData,
                        borderColor: '#16a085',
                        backgroundColor: 'rgba(22, 160, 133, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y1',
                        tension: 0.4
                    },
                    {
                        label: 'Depression/PHQ-9 (0-27)',
                        data: depressionData,
                        borderColor: '#8e44ad',
                        backgroundColor: 'rgba(142, 68, 173, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y2',
                        tension: 0.4
                    },
                    {
                        label: 'PSS Risk Threshold (20)',
                        data: Array(dates.length).fill(20),
                        borderColor: 'rgba(231, 76, 60, 0.5)',
                        borderDash: [5, 5],
                        borderWidth: 2,
                        yAxisID: 'y',
                        fill: false,
                        pointRadius: 0
                    },
                    {
                        label: 'Anxiety Risk Threshold (10)',
                        data: Array(dates.length).fill(10),
                        borderColor: 'rgba(22, 160, 133, 0.5)',
                        borderDash: [5, 5],
                        borderWidth: 2,
                        yAxisID: 'y1',
                        fill: false,
                        pointRadius: 0
                    },
                    {
                        label: 'Depression Risk Threshold (14)',
                        data: Array(dates.length).fill(14),
                        borderColor: 'rgba(142, 68, 173, 0.5)',
                        borderDash: [5, 5],
                        borderWidth: 2,
                        yAxisID: 'y2',
                        fill: false,
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Clinical Mental Health Scales with Risk Thresholds',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'PSS (0-40)'
                        },
                        max: 40
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'GAD-7 (0-21)'
                        },
                        max: 21,
                        grid: {
                            drawOnChartArea: false
                        }
                    },
                    y2: {
                        type: 'linear',
                        display: false,
                        max: 27
                    },
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
