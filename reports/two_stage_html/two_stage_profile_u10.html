<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Two-Stage Mental Health Profile - u10</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f7fa;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .header .subtitle {
            font-size: 18px;
            opacity: 0.95;
        }
        
        .metadata {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 30px 40px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }
        
        .metadata-item {
            text-align: center;
        }
        
        .metadata-label {
            font-size: 12px;
            color: #6c757d;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }
        
        .metadata-value {
            font-size: 18px;
            font-weight: 600;
            color: #495057;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #2d3748;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-subtitle {
            font-size: 14px;
            color: #718096;
            margin-bottom: 20px;
            font-style: italic;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .badge-real {
            background: #d4edda;
            color: #155724;
        }
        
        .badge-synthetic {
            background: #fff3cd;
            color: #856404;
        }
        
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            border: 2px solid #e9ecef;
        }
        
        .card-header {
            font-size: 13px;
            color: #6c757d;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .card-value {
            font-size: 28px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 5px;
        }
        
        .card-uncertainty {
            font-size: 12px;
            color: #e67e22;
            font-weight: 600;
        }
        
        .prediction-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid #6c757d;
        }
        
        .prediction-card.at-risk {
            border-color: #dc3545;
            background: #fff5f5;
        }
        
        .prediction-card.healthy {
            border-color: #28a745;
            background: #f0fff4;
        }
        
        .prediction-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .prediction-name {
            font-size: 16px;
            font-weight: 600;
            color: #2d3748;
        }
        
        .prediction-value {
            font-size: 24px;
            font-weight: 700;
        }
        
        .prediction-value.at-risk {
            color: #dc3545;
        }
        
        .prediction-value.healthy {
            color: #28a745;
        }
        
        .recommendation-card {
            background: white;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .recommendation-card.high {
            border-color: #e74c3c;
        }
        
        .recommendation-card.medium {
            border-color: #f39c12;
        }
        
        .recommendation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .recommendation-title {
            font-size: 18px;
            font-weight: 600;
            color: #2d3748;
        }
        
        .priority-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .priority-badge.high {
            background: #fee;
            color: #c00;
        }
        
        .priority-badge.medium {
            background: #fff4e6;
            color: #d68910;
        }
        
        .recommendation-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        
        .metric-item {
            display: flex;
            flex-direction: column;
        }
        
        .metric-label {
            font-size: 12px;
            color: #6c757d;
            margin-bottom: 4px;
        }
        
        .metric-value {
            font-size: 14px;
            font-weight: 600;
            color: #495057;
        }
        
        .recommendation-evidence {
            font-size: 14px;
            color: #495057;
            font-style: italic;
            margin-bottom: 15px;
            padding-left: 15px;
            border-left: 3px solid #e9ecef;
        }
        
        .action-list {
            list-style: none;
        }
        
        .action-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            font-size: 14px;
            color: #495057;
        }
        
        .action-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
        }
        
        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .warning-box-title {
            font-size: 16px;
            font-weight: 600;
            color: #856404;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .warning-box-content {
            font-size: 14px;
            color: #856404;
            line-height: 1.6;
        }
        
        .info-box {
            background: #d1ecf1;
            border: 1px solid #0c5460;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .info-box-title {
            font-size: 16px;
            font-weight: 600;
            color: #0c5460;
            margin-bottom: 10px;
        }
        
        .info-box-content {
            font-size: 14px;
            color: #0c5460;
            line-height: 1.6;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .chart-title {
            font-size: 18px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 15px;
            text-align: center;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
                border-radius: 0;
                max-width: 100%;
            }
            
            .header {
                background: #667eea;
                color: white;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            .section {
                page-break-inside: avoid;
            }
            
            * {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üß† Two-Stage Mental Health Profile</h1>
            <div class="subtitle">Hybrid Behavioral Forecasting + Mental Health Inference</div>
        </div>
        
        <!-- Metadata -->
        <div class="metadata">
            <div class="metadata-item">
                <div class="metadata-label">Student ID</div>
                <div class="metadata-value">u10</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">Generated</div>
                <div class="metadata-value">2025-12-11 21:00:26</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">Date Range</div>
                <div class="metadata-value">2013-03-31 to 2013-06-02</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">Predictions</div>
                <div class="metadata-value">64 days</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">Avg Uncertainty</div>
                <div class="metadata-value">¬±33%</div>
            </div>
            <div class="metadata-item">
                <div class="metadata-label">At-Risk Factors</div>
                <div class="metadata-value">1</div>
            </div>
        </div>
        
        <div class="content">
            <!-- Pipeline Warning -->
            <div class="warning-box">
                <div class="warning-box-title">‚ö†Ô∏è Understanding This Two-Stage Report</div>
                <div class="warning-box-content">
                    <p><strong>This report uses a hybrid prediction pipeline:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Stage 1 (REAL DATA):</strong> Behavioral forecasting using patterns from StudentLife dataset (Dartmouth, 2013)</li>
                        <li><strong>Stage 2 (SYNTHETIC DATA):</strong> Mental health inference trained on 1.5M synthetic records</li>
                    </ul>
                    <p style="margin-top: 10px;"><strong>Limitations:</strong> Stage 1 uncertainties (¬±33% average) compound in Stage 2. Mental health predictions are based on behavioral forecasts, not direct measurements. This report analyzes all 64 days of predictions. Use this as a screening tool, not a clinical diagnosis.</p>
                </div>
            </div>
            
            <!-- Methodology Section -->
            <div class="section">
                <div class="section-title">üî¨ How This System Works: Two-Stage Pipeline Methodology</div>
                
                <div style="background: #f8f9fa; padding: 25px; border-radius: 8px; margin-bottom: 20px;">
                    <h4 style="font-size: 18px; font-weight: 600; color: #2d3748; margin-bottom: 15px;">
                        Pipeline Architecture
                    </h4>
                    
                    <div style="display: flex; align-items: center; justify-content: space-around; margin: 30px 0; flex-wrap: wrap; gap: 20px;">
                        <div style="text-align: center; flex: 1; min-width: 200px;">
                            <div style="background: #667eea; color: white; padding: 20px; border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üì±</div>
                                <div style="font-weight: 600;">Input Sensors</div>
                                <div style="font-size: 12px; opacity: 0.9;">6 features √ó 7 days</div>
                            </div>
                            <div style="font-size: 12px; color: #6c757d;">
                                Sleep, Work, Exercise<br>Screen, Social, Steps
                            </div>
                        </div>
                        
                        <div style="font-size: 24px; color: #6c757d;">‚Üí</div>
                        
                        <div style="text-align: center; flex: 1; min-width: 200px;">
                            <div style="background: #3498db; color: white; padding: 20px; border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üß†</div>
                                <div style="font-weight: 600;">Stage 1: GRU</div>
                                <div style="font-size: 12px; opacity: 0.9;">Real Data (StudentLife)</div>
                            </div>
                            <div style="font-size: 12px; color: #6c757d;">
                                Predicts next-day<br>behaviors + uncertainty
                            </div>
                        </div>
                        
                        <div style="font-size: 24px; color: #6c757d;">‚Üí</div>
                        
                        <div style="text-align: center; flex: 1; min-width: 200px;">
                            <div style="background: #28a745; color: white; padding: 20px; border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üß†</div>
                                <div style="font-weight: 600;">Stage 2: LSTM</div>
                                <div style="font-size: 12px; opacity: 0.9;">Synthetic Data (1.5M)</div>
                            </div>
                            <div style="font-size: 12px; color: #6c757d;">
                                Infers mental health<br>from behaviors
                            </div>
                        </div>
                        
                        <div style="font-size: 24px; color: #6c757d;">‚Üí</div>
                        
                        <div style="text-align: center; flex: 1; min-width: 200px;">
                            <div style="background: #764ba2; color: white; padding: 20px; border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-size: 24px; margin-bottom: 5px;">üìä</div>
                                <div style="font-weight: 600;">Output</div>
                                <div style="font-size: 12px; opacity: 0.9;">8 mental health scores</div>
                            </div>
                            <div style="font-size: 12px; color: #6c757d;">
                                PSS, Anxiety, Depression<br>Stress, Mood, Energy, Focus
                            </div>
                        </div>
                    </div>
                    
                    <h4 style="font-size: 16px; font-weight: 600; color: #2d3748; margin-top: 30px; margin-bottom: 10px;">
                        Stage 1: Behavioral Forecasting (REAL DATA)
                    </h4>
                    <ul style="font-size: 14px; color: #495057; line-height: 1.8; margin-left: 20px;">
                        <li><strong>Training Data:</strong> StudentLife dataset from Dartmouth College (2013) - 49 students, 2,783 sequences from real sensor measurements</li>
                        <li><strong>Model:</strong> GRU (Gated Recurrent Unit) with 64 hidden dimensions, 2 layers - optimized for sparse real-world data</li>
                        <li><strong>Input:</strong> 6 behavioral features (sleep, work hours, exercise, steps, screen time, social interactions) over 7-day windows</li>
                        <li><strong>Output:</strong> 6 next-day behavioral predictions + aleatoric uncertainty (inherent data noise)</li>
                        <li><strong>Performance:</strong> R¬≤=0.48, MAE=162.67 (5-fold CV) - 16% better uncertainty than LSTM baseline</li>
                        <li><strong>Why Real Data Matters:</strong> Captures authentic behavioral patterns, circadian rhythms, and day-to-day variability from actual university students</li>
                    </ul>
                    
                    <h4 style="font-size: 16px; font-weight: 600; color: #2d3748; margin-top: 30px; margin-bottom: 10px;">
                        Stage 2: Mental Health Inference (SYNTHETIC DATA)
                    </h4>
                    <ul style="font-size: 14px; color: #495057; line-height: 1.8; margin-left: 20px;">
                        <li><strong>Training Data:</strong> 1.5M synthetic records with controlled behavioral patterns and mental health labels</li>
                        <li><strong>Model:</strong> LSTM with 128 hidden dimensions, 2 layers, multi-task prediction heads</li>
                        <li><strong>Input:</strong> Stage 1 predicted behaviors (5 features)</li>
                        <li><strong>Output:</strong> 8 mental health scores (4 daily: stress, mood, energy, focus + 4 weekly: PSS, anxiety, depression, job satisfaction)</li>
                        <li><strong>Why Synthetic:</strong> No ground truth mental health labels exist for StudentLife data; synthetic data provides controlled relationships</li>
                        <li><strong>Clinical Scales:</strong> PSS-10 (Perceived Stress), GAD-7 (Generalized Anxiety), PHQ-9 (Patient Health Questionnaire - Depression)</li>
                    </ul>
                    
                    <h4 style="font-size: 16px; font-weight: 600; color: #2d3748; margin-top: 30px; margin-bottom: 10px;">
                        Error Propagation & Uncertainty
                    </h4>
                    <ul style="font-size: 14px; color: #495057; line-height: 1.8; margin-left: 20px;">
                        <li><strong>Stage 1 Uncertainty:</strong> Average ¬±33% across 64 days - varies by behavioral metric</li>
                        <li><strong>Compounding Effect:</strong> Stage 2 treats Stage 1 predictions as inputs, so uncertainty accumulates</li>
                        <li><strong>Distribution Mismatch:</strong> Stage 1 outputs may differ from Stage 2 training distribution ‚Üí reduced confidence</li>
                        <li><strong>Interpretation:</strong> Higher uncertainty = model less confident. Use trends and patterns, not absolute values</li>
                        <li><strong>Validation Challenge:</strong> No ground truth mental health labels for StudentLife students to validate Stage 2 predictions</li>
                    </ul>
                    
                    <h4 style="font-size: 16px; font-weight: 600; color: #2d3748; margin-top: 30px; margin-bottom: 10px;">
                        How to Use This Report
                    </h4>
                    <ul style="font-size: 14px; color: #495057; line-height: 1.8; margin-left: 20px;">
                        <li><strong>Focus on Trends:</strong> Look for patterns over time, not single-day values</li>
                        <li><strong>At-Risk Indicators:</strong> Pay attention to metrics consistently exceeding clinical thresholds</li>
                        <li><strong>Behavioral Insights:</strong> Stage 1 predictions show concrete behaviors you can modify</li>
                        <li><strong>Personalized Interventions:</strong> Evidence-based actions tailored to your specific patterns</li>
                        <li><strong>Professional Consultation:</strong> This is a screening tool - consult healthcare providers for clinical diagnosis</li>
                    </ul>
                </div>
            </div>
            
            <!-- Stage 1: Behavioral Predictions -->
            <div class="section">
                <div class="section-title">
                    üü¶ Stage 1: Behavioral Forecasting
                    <span class="badge badge-real">REAL DATA</span>
                </div>
                <div class="section-subtitle">
                    GRU trained on StudentLife dataset ‚Üí predicts next-day behaviors
                </div>
                
                <div class="card-grid">

                    <div class="card">
                        <div class="card-header">
                            <span>üò¥ Sleep</span>
                        </div>
                        <div class="card-value">6.1h</div>
                        <div class="card-uncertainty">¬±12%</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span>üèÉ Exercise</span>
                        </div>
                        <div class="card-value">19.7min</div>
                        <div class="card-uncertainty">¬±36%</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span>üì± Screen Time</span>
                        </div>
                        <div class="card-value">5.8h</div>
                        <div class="card-uncertainty">¬±41%</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span>üë• Social</span>
                        </div>
                        <div class="card-value">26.2</div>
                        <div class="card-uncertainty">¬±36%</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span>üö∂ Steps</span>
                        </div>
                        <div class="card-value">1952</div>
                        <div class="card-uncertainty">¬±40%</div>
                    </div>

                </div>
                
                <p style="font-size: 14px; color: #6c757d; margin-top: 10px;">
                    <strong>Note:</strong> These predictions show what your behavior is likely to be on the next day, 
                    based on patterns learned from real university students. Uncertainty percentages reflect prediction confidence.
                </p>
            </div>
            
            <!-- Stage 2: Mental Health Predictions -->
            <div class="section">
                <div class="section-title">
                    üü© Stage 2: Mental Health Inference
                    <span class="badge badge-synthetic">SYNTHETIC DATA</span>
                </div>
                <div class="section-subtitle">
                    LSTM trained on 1.5M synthetic records ‚Üí infers mental health from predicted behaviors
                </div>
                
                <div class="info-box">
                    <div class="info-box-title">‚ÑπÔ∏è Confidence Note</div>
                    <div class="info-box-content">
                        Stage 1 predictions have ¬±33% average uncertainty. 
                        This uncertainty propagates to Stage 2, reducing overall confidence. Mental health scores 
                        are inferred from <em>predicted behaviors</em>, not measured directly.
                    </div>
                </div>
                
                <div class="card-grid">

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Stress Level</div>
                            <div class="prediction-value healthy">6.6/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Mood</div>
                            <div class="prediction-value healthy">5.3/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Energy</div>
                            <div class="prediction-value healthy">5.4/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Focus</div>
                            <div class="prediction-value healthy">5.6/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card at-risk">
                        <div class="prediction-header">
                            <div class="prediction-name">PSS</div>
                            <div class="prediction-value at-risk">23.1/40</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚ö†Ô∏è At-risk threshold exceeded
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Anxiety</div>
                            <div class="prediction-value healthy">6.6/21</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Depression</div>
                            <div class="prediction-value healthy">13.0/27</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                    <div class="prediction-card healthy">
                        <div class="prediction-header">
                            <div class="prediction-name">Job Satisfaction</div>
                            <div class="prediction-value healthy">6.2/10</div>
                        </div>
                        <div style="font-size: 12px; color: #6c757d;">
                            ‚úì Within healthy range
                        </div>
                    </div>

                </div>
                
                <p style="font-size: 14px; color: #6c757d; margin-top: 10px;">
                    <strong>Important:</strong> These mental health scores are inferred from predicted behaviors, not measured directly. 
                    The model was trained on synthetic data patterns. If you're concerned about any scores, 
                    please consult a mental health professional.
                </p>
            </div>
            
            <!-- Temporal Analysis -->
            <div class="section">
                <div class="section-title">üìà Temporal Trends Analysis</div>
                <div class="section-subtitle">
                    Complete prediction history across all {num_predictions} days
                </div>
                
                <h3 style="font-size: 20px; font-weight: 600; color: #2d3748; margin-bottom: 15px; margin-top: 20px;">
                    üü¶ Stage 1: Behavioral Predictions Over Time
                </h3>
                
                <div class="chart-container">
                    <canvas id="sleepChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <canvas id="exerciseChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <canvas id="screenSocialChart"></canvas>
                </div>
                
                <h3 style="font-size: 20px; font-weight: 600; color: #2d3748; margin-bottom: 15px; margin-top: 30px;">
                    üü© Stage 2: Mental Health Predictions Over Time
                </h3>
                
                <div class="chart-container">
                    <canvas id="dailyMetricsChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <canvas id="clinicalScalesChart"></canvas>
                </div>
            </div>

            <!-- Personalized Interventions -->
            <div class="section">
                <div class="section-title">üí° Personalized Evidence-Based Interventions</div>
                <div class="section-subtitle">
                    Specific actions tailored to your behavioral patterns and mental health trends
                </div>

                <div class="recommendation-card high">
                    <div class="recommendation-header">
                        <div class="recommendation-title">Sleep Quality</div>
                        <div class="priority-badge high">HIGH PRIORITY</div>
                    </div>
                    
                    <div class="recommendation-metrics">
                        <div class="metric-item">
                            <div class="metric-label">Current</div>
                            <div class="metric-value">6.2 hours/night</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Target</div>
                            <div class="metric-value">7-9 hours/night</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Change Needed</div>
                            <div class="metric-value">+0.8h per night</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Trend</div>
                            <div class="metric-value">decreasing (-8.198385731799004)</div>
                        </div>
                    </div>
                    
                    <div class="recommendation-evidence">
                        <strong>üìä Impact:</strong> Sleep deprivation linked to 60% increased stress, 80% increased anxiety risk
                    </div>
                    
                    <div class="recommendation-evidence" style="margin-top: 10px;">
                        <strong>üî¨ Evidence:</strong> Students with <7h sleep showed 2.3x higher depression scores vs 7-9h group (StudentLife dataset)
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong style="font-size: 14px; color: #2d3748;">‚úÖ Specific Actions:</strong>
                        <ul class="action-list">

                            <li>Set consistent bedtime 10pm (need to wake by 8am for 7.8h sleep)</li>

                            <li>Create wind-down routine: dim lights 9pm, no screens after 9:30pm (blue light suppresses melatonin)</li>

                            <li>Temperature hack: keep bedroom 65-68¬∞F (thermoregulation critical for deep sleep)</li>

                            <li>If racing thoughts: brain dump journal before bed, box breathing (4-4-4-4 pattern)</li>

                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef;">
                        <strong style="font-size: 12px; color: #6c757d;">üìö Research Citations:</strong>
                        <ul style="font-size: 12px; color: #6c757d; margin-left: 20px; margin-top: 5px;">

                            <li>Walker M. (2017). Why We Sleep - Sleep deprivation linked to Alzheimer's, cardiovascular disease</li>

                            <li>Pilcher JJ et al. (1997). Sleep quality vs sleep quantity - quality matters more for wellbeing</li>

                            <li>Wang R et al. (2014). StudentLife study - smartphone sensing predicts academic performance from sleep</li>

                        </ul>
                    </div>
                </div>

                <div class="recommendation-card high">
                    <div class="recommendation-header">
                        <div class="recommendation-title">Stress Management - Clinical Level</div>
                        <div class="priority-badge high">HIGH PRIORITY</div>
                    </div>
                    
                    <div class="recommendation-metrics">
                        <div class="metric-item">
                            <div class="metric-label">Current</div>
                            <div class="metric-value">PSS 23.6/40 (at-risk 100% of time)</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Target</div>
                            <div class="metric-value">PSS <20 (below clinical threshold)</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Change Needed</div>
                            <div class="metric-value">Reduce chronic stress load</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Trend</div>
                            <div class="metric-value">decreasing (N/A)</div>
                        </div>
                    </div>
                    
                    <div class="recommendation-evidence">
                        <strong>üìä Impact:</strong> PSS ‚â•20 linked to cardiovascular disease, immune dysfunction, burnout
                    </div>
                    
                    <div class="recommendation-evidence" style="margin-top: 10px;">
                        <strong>üî¨ Evidence:</strong> Chronic stress increases cortisol ‚Üí hippocampus atrophy, memory impairment
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong style="font-size: 14px; color: #2d3748;">‚úÖ Specific Actions:</strong>
                        <ul class="action-list">

                            <li>üßò Daily meditation: Start 10min/day (Headspace, Calm) - reduces cortisol by 23% in 8 weeks</li>

                            <li>ü´Å Box breathing during stress spikes: 4s inhale ‚Üí 4s hold ‚Üí 4s exhale ‚Üí 4s hold (5 rounds)</li>

                            <li>üìù Weekly stress audit: identify chronic stressors (work? relationships?) - problem-solve systematically</li>

                            <li>ü©∫ Consider professional help: therapist, EAP (Employee Assistance Program) - stress management is learnable</li>

                            <li>‚õî Set boundaries: clear work hours, learn to say no, delegate when possible</li>

                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef;">
                        <strong style="font-size: 12px; color: #6c757d;">üìö Research Citations:</strong>
                        <ul style="font-size: 12px; color: #6c757d; margin-left: 20px; margin-top: 5px;">

                            <li>Cohen S et al. (1983). Perceived Stress Scale - PSS-10 validation and clinical cutoffs</li>

                            <li>Pascoe MC et al. (2017). Mindfulness meditation decreases cortisol, inflammatory markers</li>

                            <li>Goyal M et al. (2014). Meditation programs for psychological stress - JAMA systematic review</li>

                        </ul>
                    </div>
                </div>

                <div class="recommendation-card medium">
                    <div class="recommendation-header">
                        <div class="recommendation-title">Physical Activity</div>
                        <div class="priority-badge medium">MEDIUM PRIORITY</div>
                    </div>
                    
                    <div class="recommendation-metrics">
                        <div class="metric-item">
                            <div class="metric-label">Current</div>
                            <div class="metric-value">21 min/day</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Target</div>
                            <div class="metric-value">30-60 min/day</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Change Needed</div>
                            <div class="metric-value">+9min daily movement</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Trend</div>
                            <div class="metric-value">decreasing (-12.286275910429461)</div>
                        </div>
                    </div>
                    
                    <div class="recommendation-evidence">
                        <strong>üìä Impact:</strong> Exercise reduces depression by 20-30%, anxiety by 48% (meta-analysis)
                    </div>
                    
                    <div class="recommendation-evidence" style="margin-top: 10px;">
                        <strong>üî¨ Evidence:</strong> 30min daily moderate exercise effective as medication for mild-moderate depression
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong style="font-size: 14px; color: #2d3748;">‚úÖ Specific Actions:</strong>
                        <ul class="action-list">

                            <li>Morning routine: 9min walk before work (sunlight exposure boosts serotonin)</li>

                            <li>Lunch break movement: 15min walk after eating (improves focus, reduces afternoon slump)</li>

                            <li>Social exercise: join running club, sports team, or gym class (accountability + social benefits)</li>

                            <li>Minimum effective dose: 3x 10min walks = 1x 30min session (breaks cortisol accumulation)</li>

                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef;">
                        <strong style="font-size: 12px; color: #6c757d;">üìö Research Citations:</strong>
                        <ul style="font-size: 12px; color: #6c757d; margin-left: 20px; margin-top: 5px;">

                            <li>Schuch FB et al. (2016). Exercise as treatment for depression - meta-analysis of 25 RCTs</li>

                            <li>Aylett E et al. (2018). Exercise for anxiety disorders - 48% symptom reduction</li>

                            <li>Mammen G & Faulkner G (2013). Physical activity and prevention of depression</li>

                        </ul>
                    </div>
                </div>

                <div class="recommendation-card medium">
                    <div class="recommendation-header">
                        <div class="recommendation-title">Daily Movement</div>
                        <div class="priority-badge medium">MEDIUM PRIORITY</div>
                    </div>
                    
                    <div class="recommendation-metrics">
                        <div class="metric-item">
                            <div class="metric-label">Current</div>
                            <div class="metric-value">2054 steps/day</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Target</div>
                            <div class="metric-value">7,000-10,000 steps/day</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Change Needed</div>
                            <div class="metric-value">+2946 steps (~1.5 miles)</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">Trend</div>
                            <div class="metric-value">decreasing (-12.368576536754892)</div>
                        </div>
                    </div>
                    
                    <div class="recommendation-evidence">
                        <strong>üìä Impact:</strong> Low activity linked to cardiovascular risk, poor sleep, reduced cognitive function
                    </div>
                    
                    <div class="recommendation-evidence" style="margin-top: 10px;">
                        <strong>üî¨ Evidence:</strong> 7,000 steps/day reduces mortality by 50-70% vs 4,000 steps (Lee et al. 2019)
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <strong style="font-size: 14px; color: #2d3748;">‚úÖ Specific Actions:</strong>
                        <ul class="action-list">

                            <li>Commute hack: park farther away, get off bus 1 stop early, take stairs</li>

                            <li>Walking meetings: 1-on-1s can be done walking (creativity boost + steps)</li>

                            <li>Post-dinner walk: 15-20min aids digestion, improves sleep quality</li>

                            <li>Hourly movement: set timer for 5min walks every 2h (adds 4000 steps workday)</li>

                        </ul>
                    </div>
                    
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e9ecef;">
                        <strong style="font-size: 12px; color: #6c757d;">üìö Research Citations:</strong>
                        <ul style="font-size: 12px; color: #6c757d; margin-left: 20px; margin-top: 5px;">

                            <li>Lee IM et al. (2019). Association of step volume and intensity with mortality</li>

                            <li>Paluch AE et al. (2022). Daily steps and mortality - optimal dose 8,000-10,000</li>

                        </ul>
                    </div>
                </div>

            </div>

            <!-- Footer -->
            <div class="section">
                <div style="border-top: 2px solid #e9ecef; padding-top: 20px; font-size: 12px; color: #6c757d;">
                    <p><strong>Disclaimer:</strong> This report is generated by machine learning models and should not be used as a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of qualified health providers with any questions you may have regarding mental health.</p>
                    <p style="margin-top: 10px;"><strong>Data Sources & Methodology:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li><strong>Stage 1:</strong> GRU behavioral forecasting trained on StudentLife (49 students, 2,783 sequences) - R¬≤=0.48, MAE=162.67</li>
                        <li><strong>Stage 2:</strong> LSTM mental health inference trained on 1.5M synthetic records - R¬≤=0.98, 97-98% accuracy</li>
                        <li><strong>Pipeline:</strong> Two-stage hybrid approach predicts next-day behaviors (Stage 1), then infers mental health (Stage 2)</li>
                        <li><strong>Feature Alignment:</strong> 6 behavioral outputs from GRU mapped to 17 LSTM input features</li>
                        <li><strong>Uncertainty:</strong> Stage 1 uncertainties (¬±12.3% avg) quantified and compound in Stage 2 predictions</li>
                        <li><strong>Recommendations:</strong> Based on peer-reviewed mental health research and clinical guidelines</li>
                    </ul>
                    <p style="margin-top: 10px;"><strong>Limitations:</strong> Stage 2 model trained on synthetic data with different behavioral patterns than real StudentLife data. Distribution mismatch may affect prediction accuracy. No ground truth mental health labels available for validation. GRU outperforms LSTM by 16% on real data uncertainty metrics.</p>
                    <p style="margin-top: 10px;">Report generated: 2025-12-11 21:00:26 | Total predictions analyzed: 64 days</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Prepare data
        const dates = ["2013-03-31", "2013-04-01", "2013-04-02", "2013-04-03", "2013-04-04", "2013-04-05", "2013-04-06", "2013-04-07", "2013-04-08", "2013-04-09", "2013-04-10", "2013-04-11", "2013-04-12", "2013-04-13", "2013-04-14", "2013-04-15", "2013-04-16", "2013-04-17", "2013-04-18", "2013-04-19", "2013-04-20", "2013-04-21", "2013-04-22", "2013-04-23", "2013-04-24", "2013-04-25", "2013-04-26", "2013-04-27", "2013-04-28", "2013-04-29", "2013-04-30", "2013-05-01", "2013-05-02", "2013-05-03", "2013-05-04", "2013-05-05", "2013-05-06", "2013-05-07", "2013-05-08", "2013-05-09", "2013-05-10", "2013-05-11", "2013-05-12", "2013-05-13", "2013-05-14", "2013-05-15", "2013-05-16", "2013-05-17", "2013-05-18", "2013-05-19", "2013-05-20", "2013-05-21", "2013-05-22", "2013-05-23", "2013-05-24", "2013-05-25", "2013-05-26", "2013-05-27", "2013-05-28", "2013-05-29", "2013-05-30", "2013-05-31", "2013-06-01", "2013-06-02"];
        const sleepData = [6.671420530297272, 6.460100382312677, 6.332134802305037, 6.405710837584024, 6.367143547575552, 6.3168400836520835, 6.485278316536222, 6.493704551763918, 6.423341973649611, 6.4013713560927945, 6.504424893849865, 6.722489705903747, 6.796618070561901, 6.594049667283781, 6.325908421497844, 6.257258916137605, 6.340373079413906, 6.589162125321209, 6.543769503605967, 6.538941600178301, 6.509100336283853, 6.530953064691627, 6.522948757378021, 6.584000195628222, 6.604239276878908, 6.678528871666513, 6.590065872033527, 6.749668559237424, 6.679463783508849, 6.481320765605983, 6.303996769544651, 5.994239518575144, 5.0979837090606015, 5.027946535279559, 5.134221226852854, 5.155360690159446, 5.1847669460380015, 5.470848708046628, 5.5936554706684625, 5.780973295379937, 5.897401510608337, 5.861572798570168, 6.038722126905501, 5.891915943026701, 5.8002697681367446, 5.682912403040114, 5.439014852566668, 5.081705501338361, 5.342585145655481, 5.346689185314267, 5.765648799517735, 6.012432384028749, 6.410139061888125, 6.6517083542407365, 6.76990478053016, 6.945231095963156, 6.74678744600986, 6.619230040883224, 6.3610476313207425, 6.530697729328146, 6.55409025068476, 6.513611162902874, 6.281940773831375, 6.124471741433071];
        const sleepUnc = [0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329, 0.7056195924165329];
        const exerciseData = [22.421361350515873, 21.5136311764246, 20.99302111455329, 21.275012418246448, 21.109185393307758, 20.666691913559703, 21.639710012573374, 21.60709174898668, 21.131478969662588, 21.057059869004572, 21.512840166645542, 22.591569717911444, 22.59567396231973, 21.760445166272188, 20.443356541719186, 20.592408961698453, 21.138998086828135, 21.906852890613468, 21.47366740117056, 21.684594083292676, 21.62063045267516, 22.045084006420574, 22.005585914763515, 22.244081518253402, 22.31574460532368, 22.51678298130713, 21.908156720512654, 22.409538237403662, 21.72103335128696, 21.038911045007602, 20.89075853280172, 20.03028130275651, 17.341508175715703, 17.80617244538441, 18.736290942346347, 18.77853663035487, 18.34685824706722, 19.33174412315309, 19.38590840729783, 19.366306978750494, 20.423907886010262, 20.19201765608041, 20.764578268955816, 19.969816296397205, 19.90413449742481, 18.916695042283642, 18.213655062134258, 16.62103904527097, 17.939995559769116, 17.46580087432666, 18.99906695820634, 20.072263110407775, 21.54105400613525, 22.455278288444532, 22.814308518130886, 23.802304444653434, 22.92735471061842, 21.994393936548843, 21.10618012431079, 22.088322297016973, 22.09512868470083, 21.73956684298175, 20.446137175723035, 19.6666110321171];
        const exerciseUnc = [7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191, 7.060889556457191];
        const screenData = [6.323219651816962, 6.121493653702018, 5.882820623449357, 5.844497916780369, 5.886753051549076, 5.8644434687065115, 5.878362466971457, 5.835715944226749, 5.830107466541019, 5.843475885254191, 5.843992501535387, 5.874479849267505, 5.951841192502137, 5.881960232600117, 5.587246023092528, 5.566711030141702, 5.687784507241492, 5.945814026565647, 6.13231751032828, 6.046212857923873, 6.024080816907729, 5.841964861867319, 5.880753221903539, 5.942762734642688, 5.839748713441876, 5.731001778606398, 5.693008872222331, 5.691827469039412, 5.812917369523491, 5.6851139785174185, 5.518455957678876, 5.3104150422485645, 4.708261021543834, 4.719153471010833, 5.174087914797084, 5.2120024499438475, 5.215701529125143, 5.46076680346086, 5.211099091775627, 5.30921534283929, 5.705332749288316, 5.673918848959289, 5.914595297989813, 5.696034520615436, 5.3766120137544124, 5.262586401518126, 4.912365655141709, 4.622604140466531, 4.9801553347615455, 5.150273935547273, 5.6490348285972125, 5.8713699950137315, 6.293150272011731, 6.2198727689547715, 6.331907153894734, 6.512440305274399, 6.122053111245518, 6.286952137204157, 6.057794513271866, 6.214973666218459, 6.165833207668026, 6.186961783505801, 6.048490179854169, 5.8418483134647845];
        const socialData = [29.77844948276337, 28.779522192329534, 28.6241023325527, 29.508882068558112, 29.394851167113746, 29.029345489496833, 29.963951424755358, 29.665733924821218, 28.856451097341623, 28.825594055641094, 29.631103081505866, 30.95923362681252, 30.85174410845056, 29.571714722894566, 27.75972798225424, 28.039891211279805, 29.21662444998114, 30.321785229155974, 29.53354451237733, 29.5605448117682, 29.36327445972439, 29.678501149601104, 29.503049419355264, 30.021555429982953, 30.328870875284313, 30.58192265310348, 29.737925054224476, 30.545813123897112, 29.710012407190458, 28.670135546628913, 28.53154559512266, 27.260230060525682, 24.105378740992045, 25.19901104569653, 26.62913995577826, 26.376531374665145, 25.42061052716859, 26.964932693694262, 26.883295352638857, 26.1205775188605, 27.845420954020174, 27.531272916343077, 28.253682136655822, 26.721289324625516, 27.233123969432217, 25.710034056560954, 25.211746674021242, 23.07594366253183, 25.763050651453, 25.401564635367734, 27.098604600530464, 28.032073909736347, 29.567391650759888, 30.201427842841063, 30.469508883624922, 31.40158364660725, 30.126404034809234, 29.154641373544294, 28.096649729220296, 30.097995436273468, 29.93792807647401, 29.362685693635573, 27.630512304042377, 26.223648540972043];
        const stressData = [6.595769882202148, 6.6242594718933105, 6.633139133453369, 6.637018203735352, 6.673185348510742, 6.631156921386719, 6.65080451965332, 6.574845790863037, 6.593376636505127, 6.633963584899902, 6.626630783081055, 6.671093940734863, 6.731831073760986, 6.651721000671387, 6.586550712585449, 6.747252941131592, 6.671326637268066, 6.7456159591674805, 6.60698127746582, 6.634976387023926, 6.61147403717041, 6.74423360824585, 6.629833221435547, 6.640154838562012, 6.590616226196289, 6.69635534286499, 6.624602317810059, 6.6117777824401855, 6.58573055267334, 6.776780128479004, 6.743696212768555, 6.691648960113525, 6.576938629150391, 6.638113975524902, 6.655284881591797, 6.795600891113281, 6.668086528778076, 6.569021701812744, 6.688141822814941, 6.696404457092285, 6.508570671081543, 6.629179000854492, 6.469071865081787, 6.626507759094238, 6.581838607788086, 6.739171028137207, 6.6108880043029785, 6.732514381408691, 6.589027404785156, 6.691110134124756, 6.6358642578125, 6.53713321685791, 6.614512920379639, 6.581724166870117, 6.551623344421387, 6.552424430847168, 6.687400817871094, 6.49829626083374, 6.315169811248779, 6.599432945251465, 6.622405052185059, 6.662137031555176, 6.536195755004883, 6.555838108062744];
        const moodData = [5.2680511474609375, 5.2281317710876465, 5.204951763153076, 5.235076904296875, 5.239882946014404, 5.223226547241211, 5.277602672576904, 5.316247940063477, 5.388227939605713, 5.278448581695557, 5.31760311126709, 5.256910800933838, 5.281188488006592, 5.33997917175293, 5.284099102020264, 5.4092631340026855, 5.2566986083984375, 5.297179222106934, 5.2684197425842285, 5.274844646453857, 5.256920337677002, 5.335070610046387, 5.264429569244385, 5.264519214630127, 5.277438640594482, 5.275636672973633, 5.271472454071045, 5.305547714233398, 5.363212585449219, 5.418015956878662, 5.329296588897705, 5.347631454467773, 5.253147602081299, 5.3401336669921875, 5.288181304931641, 5.3500752449035645, 5.2855095863342285, 5.330831050872803, 5.2937469482421875, 5.32302713394165, 5.293527603149414, 5.36264181137085, 5.3107781410217285, 5.3643012046813965, 5.311871528625488, 5.337754726409912, 5.289884090423584, 5.281692981719971, 5.2754597663879395, 5.250646591186523, 5.285944938659668, 5.299505233764648, 5.309111595153809, 5.320570945739746, 5.322749614715576, 5.371990203857422, 5.462121963500977, 5.312438488006592, 5.470302581787109, 5.2596635818481445, 5.271811008453369, 5.293459892272949, 5.267032146453857, 5.324593544006348];
        const energyData = [5.414140701293945, 5.378337383270264, 5.343101501464844, 5.387173175811768, 5.3849711418151855, 5.366440296173096, 5.423471927642822, 5.419519424438477, 5.44396448135376, 5.416363716125488, 5.443395137786865, 5.405510902404785, 5.400575637817383, 5.449860095977783, 5.413258075714111, 5.4929375648498535, 5.407049179077148, 5.419090747833252, 5.393609523773193, 5.372580528259277, 5.386131286621094, 5.440657615661621, 5.409320831298828, 5.396696090698242, 5.422334671020508, 5.408758163452148, 5.399731159210205, 5.431807041168213, 5.4475417137146, 5.451847076416016, 5.418155193328857, 5.455750465393066, 5.357503890991211, 5.439726829528809, 5.392951488494873, 5.426065444946289, 5.370938301086426, 5.405614376068115, 5.406475067138672, 5.4590654373168945, 5.380208492279053, 5.443839073181152, 5.387783050537109, 5.429684162139893, 5.399086952209473, 5.4496049880981445, 5.403072357177734, 5.407088756561279, 5.383139133453369, 5.370580673217773, 5.401663303375244, 5.396687030792236, 5.449134826660156, 5.397098541259766, 5.437033653259277, 5.426568508148193, 5.452207565307617, 5.415727138519287, 5.403221607208252, 5.356054306030273, 5.386224746704102, 5.408932685852051, 5.366360187530518, 5.402824878692627];
        const focusData = [5.670663833618164, 5.589624404907227, 5.470541000366211, 5.706435680389404, 5.64251184463501, 5.594628810882568, 5.7126336097717285, 5.645937919616699, 5.769232749938965, 5.741410255432129, 5.743646621704102, 5.774805545806885, 5.725539684295654, 5.745102405548096, 5.6301655769348145, 5.860371112823486, 5.698650360107422, 5.7728705406188965, 5.681820869445801, 5.4403977394104, 5.564047336578369, 5.720629692077637, 5.709387302398682, 5.717060089111328, 5.594613552093506, 5.716699123382568, 5.6569037437438965, 5.697771072387695, 5.704999923706055, 5.781636714935303, 5.701969146728516, 5.831470966339111, 5.4012298583984375, 5.8976006507873535, 5.700403213500977, 5.77103328704834, 5.5913896560668945, 5.788189888000488, 5.8167266845703125, 5.800624370574951, 5.636909484863281, 5.8232502937316895, 5.571342468261719, 5.693386077880859, 5.704730033874512, 5.839498043060303, 5.6887640953063965, 5.729383945465088, 5.658863544464111, 5.5264434814453125, 5.657528400421143, 5.507246494293213, 5.7595062255859375, 5.456387519836426, 5.689175605773926, 5.623536109924316, 5.7018327713012695, 5.654335975646973, 5.539573669433594, 5.551759243011475, 5.632493019104004, 5.740176677703857, 5.435929775238037, 5.557297229766846];
        const pssData = [23.389156341552734, 23.684165954589844, 23.724790573120117, 23.880512237548828, 23.887542724609375, 23.893470764160156, 23.97553253173828, 24.039836883544922, 24.02086639404297, 23.930458068847656, 24.104232788085938, 23.95126724243164, 24.40723419189453, 24.167499542236328, 24.11949920654297, 23.924449920654297, 24.250370025634766, 24.38922882080078, 23.71661376953125, 23.620960235595703, 23.57986831665039, 23.822795867919922, 23.615222930908203, 23.51730728149414, 23.40679168701172, 23.569278717041016, 23.590545654296875, 24.212461471557617, 24.184635162353516, 24.251541137695312, 24.201671600341797, 23.687213897705078, 23.257278442382812, 23.124755859375, 23.38526153564453, 23.571334838867188, 23.550922393798828, 23.316844940185547, 23.452783584594727, 23.277175903320312, 22.965404510498047, 22.976852416992188, 22.86301040649414, 22.785335540771484, 23.044200897216797, 23.328052520751953, 23.30300521850586, 23.560348510742188, 23.46939468383789, 23.6226749420166, 23.636035919189453, 23.251007080078125, 23.09755516052246, 22.90570068359375, 22.945220947265625, 22.704322814941406, 22.748104095458984, 22.897796630859375, 22.483379364013672, 23.412830352783203, 23.61474609375, 23.459205627441406, 23.338394165039062, 23.148509979248047];
        const anxietyData = [6.733364105224609, 6.834601879119873, 6.843286037445068, 6.883605480194092, 6.913722038269043, 6.916585445404053, 6.931083679199219, 6.961610317230225, 6.926515579223633, 6.895022869110107, 6.931796550750732, 6.887290000915527, 7.0316290855407715, 6.964566230773926, 6.961181163787842, 6.8650007247924805, 7.005509376525879, 7.018499374389648, 6.847056865692139, 6.829837799072266, 6.800666332244873, 6.838091850280762, 6.827011585235596, 6.722226619720459, 6.654173374176025, 6.761409282684326, 6.772579669952393, 6.96652889251709, 6.970076084136963, 6.966313362121582, 6.989562034606934, 6.827226638793945, 6.746469974517822, 6.627357482910156, 6.697146892547607, 6.748691558837891, 6.818954944610596, 6.70090389251709, 6.751676559448242, 6.721439838409424, 6.620499610900879, 6.59184455871582, 6.61232852935791, 6.568386554718018, 6.631871700286865, 6.6699419021606445, 6.6949782371521, 6.7579498291015625, 6.732024669647217, 6.801542282104492, 6.791678428649902, 6.6356635093688965, 6.648904800415039, 6.599418640136719, 6.648730754852295, 6.573541641235352, 6.565212249755859, 6.6685895919799805, 6.514649868011475, 6.7965989112854, 6.807396411895752, 6.781923770904541, 6.7765913009643555, 6.625998497009277];
        const depressionData = [13.647253036499023, 13.66946029663086, 13.859613418579102, 13.469505310058594, 13.492803573608398, 13.39436149597168, 13.521902084350586, 13.300621032714844, 13.113115310668945, 13.269939422607422, 13.147016525268555, 13.357465744018555, 13.606733322143555, 13.121034622192383, 13.012739181518555, 13.038064956665039, 13.438703536987305, 13.56885814666748, 13.34207534790039, 13.221253395080566, 13.071619987487793, 13.042241096496582, 13.210941314697266, 13.119171142578125, 12.944713592529297, 13.175849914550781, 13.018160820007324, 13.128864288330078, 12.909379959106445, 13.054813385009766, 13.215341567993164, 13.11128044128418, 13.212788581848145, 13.349390029907227, 13.030163764953613, 13.025684356689453, 13.215778350830078, 13.041116714477539, 13.295450210571289, 13.234254837036133, 13.04243278503418, 13.019436836242676, 12.87363052368164, 13.019845962524414, 13.047542572021484, 13.120643615722656, 13.192380905151367, 13.40714168548584, 13.262666702270508, 13.3386869430542, 13.28672981262207, 12.972688674926758, 13.13261604309082, 12.86378288269043, 12.946743965148926, 12.743776321411133, 12.818876266479492, 13.035561561584473, 12.610204696655273, 13.201157569885254, 13.083122253417969, 13.155134201049805, 13.130340576171875, 12.972471237182617];
        const satisfactionData = [6.016021728515625, 6.014928817749023, 6.16667366027832, 5.977812767028809, 5.968756198883057, 5.921125411987305, 5.846343517303467, 5.77827787399292, 5.7208051681518555, 5.655640125274658, 5.705321311950684, 5.760550498962402, 5.523202419281006, 5.658914566040039, 5.72598123550415, 5.786410331726074, 5.605367183685303, 5.5730719566345215, 5.8095479011535645, 6.0567402839660645, 6.005252838134766, 6.020937919616699, 5.962062835693359, 6.068713188171387, 6.107609272003174, 6.0764384269714355, 5.84775972366333, 5.60418701171875, 5.678905487060547, 5.7229323387146, 5.7497968673706055, 5.882593631744385, 6.0370283126831055, 6.204840660095215, 6.086411952972412, 5.995744705200195, 5.975845813751221, 5.927693843841553, 5.939249038696289, 5.9928460121154785, 6.125660419464111, 6.022047996520996, 5.995311737060547, 5.954635143280029, 6.004589557647705, 6.002016544342041, 6.1537346839904785, 6.098850727081299, 6.314584255218506, 6.191055774688721, 6.075214862823486, 6.155452728271484, 6.012704849243164, 6.033038139343262, 6.0134100914001465, 6.012322425842285, 6.055605411529541, 6.04962158203125, 6.073110103607178, 6.092645168304443, 5.979590892791748, 5.991090297698975, 5.990777492523193, 6.232503890991211];
        
        // Chart.js default configuration
        Chart.defaults.font.family = '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
        Chart.defaults.color = '#495057';
        
        // Sleep Chart with Uncertainty Bands
        new Chart(document.getElementById('sleepChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Sleep Hours',
                        data: sleepData,
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        borderWidth: 2,
                        fill: false,
                        tension: 0.4
                    },
                    {
                        label: 'Upper Bound (+1œÉ)',
                        data: sleepData.map((val, i) => val + sleepUnc[i]),
                        borderColor: 'rgba(102, 126, 234, 0.3)',
                        borderDash: [5, 5],
                        borderWidth: 1,
                        fill: '+1',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        pointRadius: 0
                    },
                    {
                        label: 'Lower Bound (-1œÉ)',
                        data: sleepData.map((val, i) => Math.max(0, val - sleepUnc[i])),
                        borderColor: 'rgba(102, 126, 234, 0.3)',
                        borderDash: [5, 5],
                        borderWidth: 1,
                        fill: false,
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Sleep Hours Over Time (with uncertainty)',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 12,
                        title: {
                            display: true,
                            text: 'Hours'
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Date'
                        },
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
        
        // Exercise Chart
        new Chart(document.getElementById('exerciseChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Exercise Minutes',
                        data: exerciseData,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'Target (30 min)',
                        data: Array(dates.length).fill(30),
                        borderColor: '#ffc107',
                        borderDash: [10, 5],
                        borderWidth: 2,
                        fill: false,
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Exercise Minutes Per Day',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Minutes'
                        }
                    },
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
        
        // Screen Time + Social Interactions (Dual Axis)
        new Chart(document.getElementById('screenSocialChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Screen Time (hours)',
                        data: screenData,
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y',
                        tension: 0.4
                    },
                    {
                        label: 'Social Interactions',
                        data: socialData,
                        borderColor: '#17a2b8',
                        backgroundColor: 'rgba(23, 162, 184, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y1',
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Screen Time & Social Interactions',
                        font: { size: 16, weight: 'bold' }
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'Screen Time (hours)',
                            color: '#dc3545'
                        },
                        ticks: {
                            color: '#dc3545'
                        }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'Social Interactions',
                            color: '#17a2b8'
                        },
                        ticks: {
                            color: '#17a2b8'
                        },
                        grid: {
                            drawOnChartArea: false
                        }
                    },
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
        
        // Daily Mental Health Metrics
        new Chart(document.getElementById('dailyMetricsChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'Stress Level',
                        data: stressData,
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    },
                    {
                        label: 'Mood Score',
                        data: moodData,
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    },
                    {
                        label: 'Energy Level',
                        data: energyData,
                        borderColor: '#f39c12',
                        backgroundColor: 'rgba(243, 156, 18, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    },
                    {
                        label: 'Focus Score',
                        data: focusData,
                        borderColor: '#9b59b6',
                        backgroundColor: 'rgba(155, 89, 182, 0.1)',
                        borderWidth: 2,
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Daily Mental Health Metrics (0-10 scale)',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 10,
                        title: {
                            display: true,
                            text: 'Score (0-10)'
                        }
                    },
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
        
        // Clinical Scales
        new Chart(document.getElementById('clinicalScalesChart'), {
            type: 'line',
            data: {
                labels: dates,
                datasets: [
                    {
                        label: 'PSS (0-40)',
                        data: pssData,
                        borderColor: '#e67e22',
                        backgroundColor: 'rgba(230, 126, 34, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y',
                        tension: 0.4
                    },
                    {
                        label: 'Anxiety/GAD-7 (0-21)',
                        data: anxietyData,
                        borderColor: '#16a085',
                        backgroundColor: 'rgba(22, 160, 133, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y1',
                        tension: 0.4
                    },
                    {
                        label: 'Depression/PHQ-9 (0-27)',
                        data: depressionData,
                        borderColor: '#8e44ad',
                        backgroundColor: 'rgba(142, 68, 173, 0.1)',
                        borderWidth: 2,
                        yAxisID: 'y2',
                        tension: 0.4
                    },
                    {
                        label: 'PSS Risk Threshold (20)',
                        data: Array(dates.length).fill(20),
                        borderColor: 'rgba(231, 76, 60, 0.5)',
                        borderDash: [5, 5],
                        borderWidth: 2,
                        yAxisID: 'y',
                        fill: false,
                        pointRadius: 0
                    },
                    {
                        label: 'Anxiety Risk Threshold (10)',
                        data: Array(dates.length).fill(10),
                        borderColor: 'rgba(22, 160, 133, 0.5)',
                        borderDash: [5, 5],
                        borderWidth: 2,
                        yAxisID: 'y1',
                        fill: false,
                        pointRadius: 0
                    },
                    {
                        label: 'Depression Risk Threshold (14)',
                        data: Array(dates.length).fill(14),
                        borderColor: 'rgba(142, 68, 173, 0.5)',
                        borderDash: [5, 5],
                        borderWidth: 2,
                        yAxisID: 'y2',
                        fill: false,
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Clinical Mental Health Scales with Risk Thresholds',
                        font: { size: 16, weight: 'bold' }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: {
                            display: true,
                            text: 'PSS (0-40)'
                        },
                        max: 40
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: {
                            display: true,
                            text: 'GAD-7 (0-21)'
                        },
                        max: 21,
                        grid: {
                            drawOnChartArea: false
                        }
                    },
                    y2: {
                        type: 'linear',
                        display: false,
                        max: 27
                    },
                    x: {
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            autoSkip: true,
                            maxTicksLimit: 10
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
